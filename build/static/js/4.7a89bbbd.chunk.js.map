{"version":3,"sources":["../node_modules/yet-another-react-lightbox/dist/types.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/yet-another-react-lightbox/dist/index.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/react-scrollspy/lib/scrollspy.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/classnames/index.js","../node_modules/react-scrollspy/lib/throttle.js","../node_modules/yet-another-react-lightbox/dist/plugins/video/index.js","../node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js","../node_modules/emailjs-com/es/store/store.js","../node_modules/emailjs-com/es/utils/validateParams.js","../node_modules/emailjs-com/es/models/EmailJSResponseStatus.js","../node_modules/emailjs-com/es/api/sendPost.js","../node_modules/emailjs-com/es/index.js","../node_modules/emailjs-com/es/methods/init/init.js","../node_modules/emailjs-com/es/methods/send/send.js","../node_modules/emailjs-com/es/methods/sendForm/sendForm.js"],"names":["MODULE_CAROUSEL","MODULE_CONTROLLER","MODULE_NAVIGATION","MODULE_NO_SCROLL","MODULE_PORTAL","MODULE_ROOT","MODULE_TOOLBAR","PLUGIN_FULLSCREEN","PLUGIN_THUMBNAILS","SLIDE_STATUS_LOADING","SLIDE_STATUS_ERROR","SLIDE_STATUS_COMPLETE","SLIDE_STATUS_PLACEHOLDER","activeSlideStatus","status","concat","ACTIVE_SLIDE_LOADING","ACTIVE_SLIDE_PLAYING","ACTIVE_SLIDE_COMPLETE","CLASS_FULLSIZE","CLASS_FLEX_CENTER","CLASS_NO_SCROLL","CLASS_NO_SCROLL_PADDING","CLASS_SLIDE_WRAPPER","ACTION_PREV","ACTION_NEXT","ACTION_SWIPE","ACTION_CLOSE","EVENT_ON_POINTER_DOWN","EVENT_ON_POINTER_MOVE","EVENT_ON_POINTER_UP","EVENT_ON_POINTER_LEAVE","EVENT_ON_POINTER_CANCEL","EVENT_ON_KEY_DOWN","EVENT_ON_KEY_UP","EVENT_ON_WHEEL","VK_ESCAPE","VK_ARROW_LEFT","VK_ARROW_RIGHT","ELEMENT_BUTTON","ELEMENT_ICON","IMAGE_FIT_CONTAIN","IMAGE_FIT_COVER","UNKNOWN_ACTION_TYPE","_typeof","o","module","exports","Symbol","iterator","constructor","prototype","__esModule","clsx","_len","arguments","length","classes","Array","_key","filter","cls","Boolean","join","cssClass","name","cssVar","composePrefix","base","prefix","makeComposePrefix","label","labels","lbl","cleanup","_len2","cleaners","_key2","forEach","cleaner","makeUseContext","contextName","context","ctx","Error","hasWindow","window","isImageSlide","slide","undefined","type","parseInt","value","Number","parseLengthPercentage","input","pixel","endsWith","percent","computeSlideRect","containerRect","padding","paddingValue","paddingPixels","width","Math","max","height","getSlideIndex","index","slidesCount","hasSlides","slides","getSlide","getSlideIfPresent","addToolbarButton","toolbar","key","button","buttons","restToolbar","findIndex","item","buttonWithKey","result","splice","calculatePreload","carousel","minimum","min","preload","finite","floor","LightboxDefaultProps","open","close","render","plugins","animation","fade","swipe","easing","navigation","spacing","imageFit","imageProps","controller","ref","focus","aria","touchAction","closeOnPullDown","closeOnBackdropClick","portal","noScroll","disabled","on","styles","className","createModule","component","createNode","children","traverse","nodes","target","apply","flatMap","node","_a","traverseNode","n","EventsContext","useEvents","EventsProvider","_ref","subscriptions","Object","keys","topic","unsubscribe","callback","cb","publish","_len3","_ref2","_key3","event","subscribe","push","Provider","LightboxPropsContext","useLightboxProps","LightboxPropsProvider","_ref3","props","LightboxStateContext","useLightboxState","LightboxDispatchContext","useLightboxDispatch","reducer","state","action","increment","globalIndex","currentIndex","currentSlide","duration","LightboxStateProvider","_ref4","dispatch","TimeoutsContext","useTimeouts","TimeoutsProvider","_ref5","timeouts","tid","clearTimeout","removeTimeout","id","setTimeout","fn","delay","IconButton","_ref6","label$1","icon","Icon","renderIcon","onClick","style","rest","svgIcon","xmlns","viewBox","focusable","displayName","createIcon","glyph","fill","d","createIconDisabled","stroke","strokeWidth","mask","CloseIcon","PreviousIcon","NextIcon","LoadingIcon","from","map","_","array","x1","y1","x2","y2","strokeLinecap","strokeOpacity","transform","ErrorIcon","useLayoutEffect","useMotionPreference","reduceMotion","setReduceMotion","_b","mediaQuery","matchMedia","call","matches","listener","addEventListener","removeEventListener","useAnimation","nodeRef","computeAnimation","snapshot","_c","current","keyframes","onfinish","getBoundingClientRect","x","y","z","matcher","getComputedStyle","match","values","split","currentTransformation","cancel","animate","err","console","error","prepareAnimation","currentSnapshot","isAnimationPlaying","playState","useContainerRect","containerRef","observerRef","setContainerRect","setContainerRef","disconnect","updateContainerRect","parse","parseFloat","round","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","ResizeObserver","observe","useDelay","timeoutId","useEventCallback","_len4","args","_key4","setRef","useForkRef","refA","refB","refValue","useLoseFocus","focused","onFocus","onBlur","useRTL","isRTL","setIsRTL","document","documentElement","direction","useSensors","subscribers","notifySubscribers","isPropagationStopped","registerSensors","onPointerDown","onPointerMove","onPointerUp","onPointerLeave","onPointerCancel","onKeyDown","onKeyUp","onWheel","subscribeSensors","unshift","listeners","el","useThrottle","lastCallbackTime","delayCallback","executeCallback","Date","now","_len5","_key5","_len6","_key6","slidePrefix","slideImagePrefix","ImageSlide","_ref7","image","offset","rect","onLoad","_d","_e","_f","_g","setStatus","imageRef","handleLoading","img","decode","Promise","resolve","catch","then","parentNode","setImageRef","complete","handleOnLoad","currentTarget","onError","cover","isImageFitCover","nonInfinite","fallback","isFinite","maxWidth","srcSet","naturalWidth","maxHeight","naturalHeight","defaultStyle","sort","a","b","src","sizes","MAX_VALUE","imagePropsStyle","imagePropsClassName","restImageProps","draggable","alt","iconLoading","iconError","SwipeState","Gesture","usePointerSwipe","isSwipeValid","containerWidth","swipeAnimationDuration","onSwipeStart","onSwipeProgress","onSwipeFinish","onSwipeCancel","pullDownEnabled","onPullDownStart","onPullDownProgress","onPullDownFinish","onPullDownCancel","pointers","activePointer","startTime","gesture","NONE","clearPointer","pointerId","currentPointers","p","addPointer","persist","find","currentOffset","SWIPE","abs","PULL_DOWN","usePointerEvents","pointer","isCurrentPointer","deltaX","clientX","deltaY","clientY","startGesture","newGesture","preventDefault","ctrlKey","cssContainerPrefix","ControllerContext","useController","ControllerModule","_ref8","toolbarWidth","setToolbarWidth","swipeState","setSwipeState","swipeOffset","pullDownOffset","pullDownOpacity","cleanupAnimationIncrement","cleanupSwipeOffset","cleanupPullDownOffset","handleContainerRef","passive","usePreventSwipeNavigation","carouselRef","setCarouselRef","rtl","getLightboxProps","getLightboxState","prev","params","next","setSwipeOffset","setProperty","setPullDownOffset","decimals","factor","EPSILON","preparePullDownAnimation","translate","opacity","pullDown","ANIMATION","parsedSpacing","spacingValue","currentSwipeOffset","swipeDuration","swipeEasing","count","newSwipeState","newSwipeAnimationDuration","elapsedTime","expectedTime","swipeParams","pullDownParams","intent","intentCleanup","resetCleanup","wheelResidualMomentum","cancelSwipeIntentCleanup","cancelSwipeResetCleanup","handleCleanup","handleCancelSwipe","currentSwipeIntent","newSwipeOffset","sign","useWheelSwipe","focusOnMount","querySelector","onViewCallback","view","slideRect","container","role","tabIndex","controls","cssPrefix$2","cssSlidePrefix","CarouselSlide","_ref9","click","HTMLElement","classList","contains","rendered","slideHeader","slideContainer","_ref10","slideFooter","renderSlide","Placeholder","CarouselModule","_ref11","items","i","useNavigationState","prevDisabled","nextDisabled","useKeyboardNavigation","throttle","handleKeyDown","NavigationButton","_ref12","NavigationModule","_ref13","buttonPrev","buttonNext","iconPrev","iconNext","navigationPrev","navigationNext","noScrollPadding","isHTMLElement","element","padScrollbar","property","computedValue","originalValue","getPropertyValue","removeProperty","NoScrollModule","_ref14","body","scrollbar","innerWidth","elements","getElementsByTagName","add","remove","clean","cssPrefix$1","setAttribute","attribute","previousValue","getAttribute","removeAttribute","PortalModule","_ref15","mounted","setMounted","visible","setVisible","restoreFocus","animationDuration","handleClose","exiting","exited","handleEnter","scrollTop","entering","indexOf","tagName","entered","handleRef","root","relatedTarget","RootModule","_ref16","ToolbarModule","_ref17","buttonClose","iconClose","mergeAnimation","defaultAnimation","defaultAnimationEasing","restDefaultAnimation","restAnimation","Lightbox","_ref18","restProps","defaultCarousel","defaultRender","defaultToolbar","defaultController","defaultNoScroll","defaultOn","defaultSlides","defaultIndex","defaultPlugins","restDefaultProps","config","augmentation","augmentations","pop","addParent","append","addChild","precede","addSibling","addModule","replace","augment","plugin","reduce","acc","withPlugins","renderNode","child","toPrimitive","t","String","arr","len","arr2","self","ReferenceError","_interopRequireDefault","defineProperty","default","_extends2","_defineProperty2","_toConsumableArray2","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_createClass2","_inherits2","_propTypes","_react","_classnames","_throttle","Scrollspy","_React$Component","_this","this","targetItems","inViewState","isScrolledPast","_handleSpy","bind","get","arrayOf","string","isRequired","currentClassName","scrolledPastClassName","object","componentTag","oneOfType","elementType","number","rootEl","onUpdate","func","getElementById","val","newArray","_getScrollDimension","doc","scrollHeight","targets","elemsInView","elemsOutView","viewStatusList","hasInViewAlready","currentContent","isInView","_isInView","isLastItem","isScrolled","_isScrolled","_isAtBottom","_fillArray","inView","outView","scrolledPast","_getScrolledPast","rootRect","_this$props","winH","innerHeight","scrollBottom","elTop","top","elBottom","offsetHeight","_this$_getScrollDimen2","some","hasFoundInView","_this2","elemensViewState","_getElemsViewState","currentStatuses","setState","_update","prevStatuses","every","_spy","_initSpyTarget","_initFromProps","onEvent","offEvent","_this3","Tag","_this$props2","counter","Children","idx","_classNames","ChildTag","childClass","createElement","itemClass","Component","obj","_extends","assign","source","hasOwnProperty","toPropertyKey","enumerable","configurable","writable","r","e","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayLikeToArray","isArray","iter","minLen","toString","slice","test","instance","Constructor","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_defineProperties","descriptor","protoProps","staticProps","subClass","superClass","create","_setPrototypeOf","hasOwn","classNames","arg","appendClass","parseValue","includes","newClass","_default","last","timer","threshold","defaultVideoProps","playsInline","resolveVideoProps","video","VideoSlide","useVideoProps","videoRef","paused","pause","autoPlay","play","handleVideoRef","setVideoRef","poster","sources","resolveBoolean","attr","resolveString","scalingProps","widthBound","elementWidth","elementHeight","scaleWidthAndHeight","onPlay","onEnded","Video","restRender","isVideoSlide","defaultThumbnailsProps","position","border","borderRadius","gap","vignette","resolveThumbnailsProps","thumbnails","useThumbnailsProps","cssPrefix","cssThumbnailPrefix","VideoThumbnailIcon","UnknownThumbnailIcon","activePrefix","fadeInPrefix","fadeOutPrefix","placeholderPrefix","Thumbnail","active","fadeIn","fadeOut","placeholder","onLoseFocus","onLoseFocusCallback","activeElement","thumbnail","customThumbnail","thumbnailIconClass","renderThumbnail","isHorizontal","boxSize","dimension","includeGap","ThumbnailsTrack","track","borderStyle","borderColor","handleControllerSwipe","animationOffset","trackRect","left","handleClick","slideIndex","display","thumbnailsContainer","thumbnailsTrack","fadeAnimationDuration","ThumbnailsContext","useThumbnails","ThumbnailsContextProvider","show","hide","thumbnailsIcon","strokeLinejoin","ThumbnailsVisible","ThumbnailsHidden","ThumbnailsButton","buttonThumbnails","iconThumbnailsVisible","iconThumbnailsHidden","Thumbnails","thumbnailsProps","showToggle","store","_origin","validateParams","userID","serviceID","templateID","EmailJSResponseStatus","httpResponse","text","responseText","sendPost","url","data","headers","reject","xhr","XMLHttpRequest","responseStatus","setRequestHeader","send","init","origin","_userID","templatePrams","uID","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","sendForm","form","currentForm","nodeName","findHTMLForm","formData","FormData"],"mappings":"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","file":"static/js/4.7a89bbbd.chunk.js","sourcesContent":["const MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = status => \"active-slide-\".concat(status);\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FLEX_CENTER, CLASS_FULLSIZE, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SLIDE_STATUS_PLAYING, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","'use client';\n\nimport * as React from 'react';\nimport { IMAGE_FIT_COVER, IMAGE_FIT_CONTAIN, ACTION_CLOSE, MODULE_CONTROLLER, UNKNOWN_ACTION_TYPE, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_CANCEL, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_WHEEL, SLIDE_STATUS_LOADING, activeSlideStatus, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_PLACEHOLDER, ACTION_PREV, ACTION_NEXT, ACTION_SWIPE, MODULE_PORTAL, CLASS_FLEX_CENTER, MODULE_CAROUSEL, CLASS_SLIDE_WRAPPER, VK_ARROW_RIGHT, VK_ARROW_LEFT, VK_ESCAPE, MODULE_NAVIGATION, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, MODULE_NO_SCROLL, MODULE_ROOT, MODULE_TOOLBAR } from './types.js';\nimport { createPortal } from 'react-dom';\nexport { ACTIVE_SLIDE_COMPLETE, ACTIVE_SLIDE_ERROR, ACTIVE_SLIDE_LOADING, ACTIVE_SLIDE_PLAYING, CLASS_FULLSIZE, PLUGIN_CAPTIONS, PLUGIN_COUNTER, PLUGIN_DOWNLOAD, PLUGIN_FULLSCREEN, PLUGIN_INLINE, PLUGIN_SHARE, PLUGIN_SLIDESHOW, PLUGIN_THUMBNAILS, PLUGIN_ZOOM, SLIDE_STATUS_PLAYING } from './types.js';\nconst clsx = function () {\n  for (var _len = arguments.length, classes = new Array(_len), _key = 0; _key < _len; _key++) {\n    classes[_key] = arguments[_key];\n  }\n  return [...classes].filter(cls => Boolean(cls)).join(\" \");\n};\nconst cssPrefix$3 = \"yarl__\";\nconst cssClass = name => \"\".concat(cssPrefix$3).concat(name);\nconst cssVar = name => \"--\".concat(cssPrefix$3).concat(name);\nconst composePrefix = (base, prefix) => \"\".concat(base).concat(prefix ? \"_\".concat(prefix) : \"\");\nconst makeComposePrefix = base => prefix => composePrefix(base, prefix);\nconst label = (labels, lbl) => labels && labels[lbl] ? labels[lbl] : lbl;\nconst cleanup = function () {\n  for (var _len2 = arguments.length, cleaners = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    cleaners[_key2] = arguments[_key2];\n  }\n  return () => {\n    cleaners.forEach(cleaner => {\n      cleaner();\n    });\n  };\n};\nconst makeUseContext = (name, contextName, context) => () => {\n  const ctx = React.useContext(context);\n  if (!ctx) {\n    throw new Error(\"\".concat(name, \" must be used within a \").concat(contextName, \".Provider\"));\n  }\n  return ctx;\n};\nconst hasWindow = () => typeof window !== \"undefined\";\nfunction round(value) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  const factor = 10 ** decimals;\n  return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nconst isImageSlide = slide => slide.type === undefined || slide.type === \"image\";\nconst isImageFitCover = (image, imageFit) => image.imageFit === IMAGE_FIT_COVER || image.imageFit !== IMAGE_FIT_CONTAIN && imageFit === IMAGE_FIT_COVER;\nfunction parseInt(value) {\n  return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n  if (typeof input === \"number\") {\n    return {\n      pixel: input\n    };\n  }\n  if (typeof input === \"string\") {\n    const value = parseInt(input);\n    return input.endsWith(\"%\") ? {\n      percent: value\n    } : {\n      pixel: value\n    };\n  }\n  return {\n    pixel: 0\n  };\n}\nfunction computeSlideRect(containerRect, padding) {\n  const paddingValue = parseLengthPercentage(padding);\n  const paddingPixels = paddingValue.percent !== undefined ? containerRect.width / 100 * paddingValue.percent : paddingValue.pixel;\n  return {\n    width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n    height: Math.max(containerRect.height - 2 * paddingPixels, 0)\n  };\n}\nconst devicePixelRatio = () => (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\nconst getSlideIndex = (index, slidesCount) => slidesCount > 0 ? (index % slidesCount + slidesCount) % slidesCount : 0;\nconst hasSlides = slides => slides.length > 0;\nconst getSlide = (slides, index) => slides[getSlideIndex(index, slides.length)];\nconst getSlideIfPresent = (slides, index) => hasSlides(slides) ? getSlide(slides, index) : undefined;\nfunction addToolbarButton(toolbar, key, button) {\n  if (!button) return toolbar;\n  const {\n    buttons,\n    ...restToolbar\n  } = toolbar;\n  const index = buttons.findIndex(item => item === key);\n  const buttonWithKey = React.isValidElement(button) ? React.cloneElement(button, {\n    key\n  }, null) : button;\n  if (index >= 0) {\n    const result = [...buttons];\n    result.splice(index, 1, buttonWithKey);\n    return {\n      buttons: result,\n      ...restToolbar\n    };\n  }\n  return {\n    buttons: [buttonWithKey, ...buttons],\n    ...restToolbar\n  };\n}\nfunction stopNavigationEventsPropagation() {\n  const stopPropagation = event => {\n    event.stopPropagation();\n  };\n  return {\n    onPointerDown: stopPropagation,\n    onKeyDown: stopPropagation,\n    onWheel: stopPropagation\n  };\n}\nfunction calculatePreload(carousel, slides) {\n  let minimum = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst LightboxDefaultProps = {\n  open: false,\n  close: () => {},\n  index: 0,\n  slides: [],\n  render: {},\n  plugins: [],\n  toolbar: {\n    buttons: [ACTION_CLOSE]\n  },\n  labels: {},\n  animation: {\n    fade: 250,\n    swipe: 500,\n    easing: {\n      fade: \"ease\",\n      swipe: \"ease-out\",\n      navigation: \"ease-in-out\"\n    }\n  },\n  carousel: {\n    finite: false,\n    preload: 2,\n    padding: \"16px\",\n    spacing: \"30%\",\n    imageFit: IMAGE_FIT_CONTAIN,\n    imageProps: {}\n  },\n  controller: {\n    ref: null,\n    focus: true,\n    aria: false,\n    touchAction: \"none\",\n    closeOnPullDown: false,\n    closeOnBackdropClick: false\n  },\n  portal: {},\n  noScroll: {\n    disabled: false\n  },\n  on: {},\n  styles: {},\n  className: \"\"\n};\nfunction createModule(name, component) {\n  return {\n    name,\n    component\n  };\n}\nfunction createNode(module, children) {\n  return {\n    module,\n    children\n  };\n}\nfunction traverseNode(node, target, apply) {\n  if (node.module.name === target) {\n    return apply(node);\n  }\n  if (node.children) {\n    return [createNode(node.module, node.children.flatMap(n => {\n      var _a;\n      return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : [];\n    }))];\n  }\n  return [node];\n}\nfunction traverse(nodes, target, apply) {\n  return nodes.flatMap(node => {\n    var _a;\n    return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : [];\n  });\n}\nfunction withPlugins(root) {\n  let plugins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let augmentations = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  let config = root;\n  const contains = target => {\n    const nodes = [...config];\n    while (nodes.length > 0) {\n      const node = nodes.pop();\n      if ((node === null || node === void 0 ? void 0 : node.module.name) === target) return true;\n      if (node === null || node === void 0 ? void 0 : node.children) nodes.push(...node.children);\n    }\n    return false;\n  };\n  const addParent = (target, module) => {\n    if (target === \"\") {\n      config = [createNode(module, config)];\n      return;\n    }\n    config = traverse(config, target, node => [createNode(module, [node])]);\n  };\n  const append = (target, module) => {\n    config = traverse(config, target, node => [createNode(node.module, [createNode(module, node.children)])]);\n  };\n  const addChild = (target, module, precede) => {\n    config = traverse(config, target, node => {\n      var _a;\n      return [createNode(node.module, [...(precede ? [createNode(module)] : []), ...((_a = node.children) !== null && _a !== void 0 ? _a : []), ...(!precede ? [createNode(module)] : [])])];\n    });\n  };\n  const addSibling = (target, module, precede) => {\n    config = traverse(config, target, node => [...(precede ? [createNode(module)] : []), node, ...(!precede ? [createNode(module)] : [])]);\n  };\n  const addModule = module => {\n    append(MODULE_CONTROLLER, module);\n  };\n  const replace = (target, module) => {\n    config = traverse(config, target, node => [createNode(module, node.children)]);\n  };\n  const remove = target => {\n    config = traverse(config, target, node => node.children);\n  };\n  const augment = augmentation => {\n    augmentations.push(augmentation);\n  };\n  plugins.forEach(plugin => {\n    plugin({\n      contains,\n      addParent,\n      append,\n      addChild,\n      addSibling,\n      addModule,\n      replace,\n      remove,\n      augment\n    });\n  });\n  return {\n    config,\n    augmentation: props => augmentations.reduce((acc, augmentation) => augmentation(acc), props)\n  };\n}\nconst EventsContext = React.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [subscriptions] = React.useState({});\n  React.useEffect(() => () => {\n    Object.keys(subscriptions).forEach(topic => delete subscriptions[topic]);\n  }, [subscriptions]);\n  const context = React.useMemo(() => {\n    const unsubscribe = (topic, callback) => {\n      var _a;\n      (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter(cb => cb !== callback));\n    };\n    const subscribe = (topic, callback) => {\n      if (!subscriptions[topic]) {\n        subscriptions[topic] = [];\n      }\n      subscriptions[topic].push(callback);\n      return () => unsubscribe(topic, callback);\n    };\n    const publish = function () {\n      for (var _len3 = arguments.length, _ref2 = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        _ref2[_key3] = arguments[_key3];\n      }\n      let [topic, event] = _ref2;\n      var _a;\n      (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach(callback => callback(event));\n    };\n    return {\n      publish,\n      subscribe,\n      unsubscribe\n    };\n  }, [subscriptions]);\n  return React.createElement(EventsContext.Provider, {\n    value: context\n  }, children);\n}\nconst LightboxPropsContext = React.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider(_ref3) {\n  let {\n    children,\n    ...props\n  } = _ref3;\n  return React.createElement(LightboxPropsContext.Provider, {\n    value: props\n  }, children);\n}\nconst LightboxStateContext = React.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = React.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"swipe\":\n      {\n        const {\n          slides\n        } = state;\n        const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n        const globalIndex = state.globalIndex + increment;\n        const currentIndex = getSlideIndex(globalIndex, slides.length);\n        const currentSlide = getSlideIfPresent(slides, currentIndex);\n        const animation = increment || action.duration ? {\n          increment,\n          duration: action.duration,\n          easing: action.easing\n        } : undefined;\n        return {\n          slides,\n          currentIndex,\n          globalIndex,\n          currentSlide,\n          animation\n        };\n      }\n    case \"update\":\n      if (action.slides !== state.slides || action.index !== state.currentIndex) {\n        return {\n          slides: action.slides,\n          currentIndex: action.index,\n          globalIndex: action.index,\n          currentSlide: getSlideIfPresent(action.slides, action.index)\n        };\n      }\n      return state;\n    default:\n      throw new Error(UNKNOWN_ACTION_TYPE);\n  }\n}\nfunction LightboxStateProvider(_ref4) {\n  let {\n    slides,\n    index,\n    children\n  } = _ref4;\n  const [state, dispatch] = React.useReducer(reducer, {\n    slides,\n    currentIndex: index,\n    globalIndex: index,\n    currentSlide: getSlideIfPresent(slides, index)\n  });\n  React.useEffect(() => {\n    dispatch({\n      type: \"update\",\n      slides,\n      index\n    });\n  }, [slides, index]);\n  const context = React.useMemo(() => ({\n    ...state,\n    state,\n    dispatch\n  }), [state, dispatch]);\n  return React.createElement(LightboxDispatchContext.Provider, {\n    value: dispatch\n  }, React.createElement(LightboxStateContext.Provider, {\n    value: context\n  }, children));\n}\nconst TimeoutsContext = React.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider(_ref5) {\n  let {\n    children\n  } = _ref5;\n  const [timeouts] = React.useState([]);\n  React.useEffect(() => () => {\n    timeouts.forEach(tid => window.clearTimeout(tid));\n    timeouts.splice(0, timeouts.length);\n  }, [timeouts]);\n  const context = React.useMemo(() => {\n    const removeTimeout = id => {\n      timeouts.splice(0, timeouts.length, ...timeouts.filter(tid => tid !== id));\n    };\n    const setTimeout = (fn, delay) => {\n      const id = window.setTimeout(() => {\n        removeTimeout(id);\n        fn();\n      }, delay);\n      timeouts.push(id);\n      return id;\n    };\n    const clearTimeout = id => {\n      if (id !== undefined) {\n        removeTimeout(id);\n        window.clearTimeout(id);\n      }\n    };\n    return {\n      setTimeout,\n      clearTimeout\n    };\n  }, [timeouts]);\n  return React.createElement(TimeoutsContext.Provider, {\n    value: context\n  }, children);\n}\nconst IconButton = React.forwardRef(function IconButton(_ref6, ref) {\n  let {\n    label: label$1,\n    className,\n    icon: Icon,\n    renderIcon,\n    onClick,\n    style,\n    ...rest\n  } = _ref6;\n  const {\n    styles,\n    labels\n  } = useLightboxProps();\n  return React.createElement(\"button\", {\n    ref: ref,\n    type: \"button\",\n    \"aria-label\": label(labels, label$1),\n    className: clsx(cssClass(ELEMENT_BUTTON), className),\n    onClick: onClick,\n    style: {\n      ...style,\n      ...styles.button\n    },\n    ...rest\n  }, renderIcon ? renderIcon() : React.createElement(Icon, {\n    className: cssClass(ELEMENT_ICON),\n    style: styles.icon\n  }));\n});\nfunction svgIcon(name, children) {\n  const icon = props => React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    height: \"24\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    ...props\n  }, children);\n  icon.displayName = name;\n  return icon;\n}\nfunction createIcon(name, glyph) {\n  return svgIcon(name, React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), glyph));\n}\nfunction createIconDisabled(name, glyph) {\n  return svgIcon(name, React.createElement(React.Fragment, null, React.createElement(\"defs\", null, React.createElement(\"mask\", {\n    id: \"strike\"\n  }, React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"white\"\n  }), React.createElement(\"path\", {\n    d: \"M0 0L24 24\",\n    stroke: \"black\",\n    strokeWidth: 4\n  }))), React.createElement(\"path\", {\n    d: \"M0.70707 2.121320L21.878680 23.292883\",\n    stroke: \"currentColor\",\n    strokeWidth: 2\n  }), React.createElement(\"g\", {\n    fill: \"currentColor\",\n    mask: \"url(#strike)\"\n  }, React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}));\nconst PreviousIcon = createIcon(\"Previous\", React.createElement(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}));\nconst NextIcon = createIcon(\"Next\", React.createElement(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}));\nconst LoadingIcon = createIcon(\"Loading\", React.createElement(React.Fragment, null, Array.from({\n  length: 8\n}).map((_, index, array) => React.createElement(\"line\", {\n  key: index,\n  x1: \"12\",\n  y1: \"6.5\",\n  x2: \"12\",\n  y2: \"1.8\",\n  strokeLinecap: \"round\",\n  strokeWidth: \"2.6\",\n  stroke: \"currentColor\",\n  strokeOpacity: 1 / array.length * (index + 1),\n  transform: \"rotate(\".concat(360 / array.length * index, \", 12, 12)\")\n}))));\nconst ErrorIcon = createIcon(\"Error\", React.createElement(\"path\", {\n  d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\"\n}));\nconst useLayoutEffect = hasWindow() ? React.useLayoutEffect : React.useEffect;\nfunction useMotionPreference() {\n  const [reduceMotion, setReduceMotion] = React.useState(false);\n  React.useEffect(() => {\n    var _a, _b;\n    const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n    setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n    const listener = event => setReduceMotion(event.matches);\n    (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n    return () => {\n      var _a;\n      return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener);\n    };\n  }, []);\n  return reduceMotion;\n}\nfunction currentTransformation(node) {\n  let x = 0;\n  let y = 0;\n  let z = 0;\n  const matrix = window.getComputedStyle(node).transform;\n  const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n  if (matcher) {\n    const values = matcher[1].split(\",\").map(parseInt);\n    if (values.length === 6) {\n      x = values[4];\n      y = values[5];\n    } else if (values.length === 16) {\n      x = values[12];\n      y = values[13];\n      z = values[14];\n    }\n  }\n  return {\n    x,\n    y,\n    z\n  };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n  const snapshot = React.useRef();\n  const animation = React.useRef();\n  const reduceMotion = useMotionPreference();\n  useLayoutEffect(() => {\n    var _a, _b, _c;\n    if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n      const {\n        keyframes,\n        duration,\n        easing,\n        onfinish\n      } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n      if (keyframes && duration) {\n        (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        animation.current = undefined;\n        try {\n          animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, {\n            duration,\n            easing\n          });\n        } catch (err) {\n          console.error(err);\n        }\n        if (animation.current) {\n          animation.current.onfinish = () => {\n            animation.current = undefined;\n            onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n          };\n        }\n      }\n    }\n    snapshot.current = undefined;\n  });\n  return {\n    prepareAnimation: currentSnapshot => {\n      snapshot.current = currentSnapshot;\n    },\n    isAnimationPlaying: () => {\n      var _a;\n      return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\";\n    }\n  };\n}\nfunction useContainerRect() {\n  const containerRef = React.useRef(null);\n  const observerRef = React.useRef();\n  const [containerRect, setContainerRect] = React.useState();\n  const setContainerRef = React.useCallback(node => {\n    containerRef.current = node;\n    if (observerRef.current) {\n      observerRef.current.disconnect();\n      observerRef.current = undefined;\n    }\n    const updateContainerRect = () => {\n      if (node) {\n        const styles = window.getComputedStyle(node);\n        const parse = value => parseFloat(value) || 0;\n        setContainerRect({\n          width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n          height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom))\n        });\n      } else {\n        setContainerRect(undefined);\n      }\n    };\n    updateContainerRect();\n    if (node && typeof ResizeObserver !== \"undefined\") {\n      observerRef.current = new ResizeObserver(updateContainerRect);\n      observerRef.current.observe(node);\n    }\n  }, []);\n  return {\n    setContainerRef,\n    containerRef,\n    containerRect\n  };\n}\nfunction useDelay() {\n  const timeoutId = React.useRef();\n  const {\n    setTimeout,\n    clearTimeout\n  } = useTimeouts();\n  return React.useCallback((callback, delay) => {\n    clearTimeout(timeoutId.current);\n    timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n  }, [setTimeout, clearTimeout]);\n}\nfunction useEventCallback(fn) {\n  const ref = React.useRef(fn);\n  useLayoutEffect(() => {\n    ref.current = fn;\n  });\n  return React.useCallback(function () {\n    var _a;\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args);\n  }, []);\n}\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\nfunction useForkRef(refA, refB) {\n  return React.useMemo(() => refA == null && refB == null ? null : refValue => {\n    setRef(refA, refValue);\n    setRef(refB, refValue);\n  }, [refA, refB]);\n}\nfunction useLoseFocus(focus) {\n  let disabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const focused = React.useRef();\n  useLayoutEffect(() => {\n    if (disabled && focused.current) {\n      focused.current = false;\n      focus();\n    }\n  }, [disabled, focus]);\n  const onFocus = React.useCallback(() => {\n    focused.current = true;\n  }, []);\n  const onBlur = React.useCallback(() => {\n    focused.current = false;\n  }, []);\n  return {\n    onFocus,\n    onBlur\n  };\n}\nfunction useRTL() {\n  const [isRTL, setIsRTL] = React.useState(false);\n  useLayoutEffect(() => {\n    setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n  }, []);\n  return isRTL;\n}\nfunction useSensors() {\n  const [subscribers] = React.useState({});\n  const notifySubscribers = React.useCallback((type, event) => {\n    var _a;\n    (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach(listener => {\n      if (!event.isPropagationStopped()) listener(event);\n    });\n  }, [subscribers]);\n  const registerSensors = React.useMemo(() => ({\n    onPointerDown: event => notifySubscribers(EVENT_ON_POINTER_DOWN, event),\n    onPointerMove: event => notifySubscribers(EVENT_ON_POINTER_MOVE, event),\n    onPointerUp: event => notifySubscribers(EVENT_ON_POINTER_UP, event),\n    onPointerLeave: event => notifySubscribers(EVENT_ON_POINTER_LEAVE, event),\n    onPointerCancel: event => notifySubscribers(EVENT_ON_POINTER_CANCEL, event),\n    onKeyDown: event => notifySubscribers(EVENT_ON_KEY_DOWN, event),\n    onKeyUp: event => notifySubscribers(EVENT_ON_KEY_UP, event),\n    onWheel: event => notifySubscribers(EVENT_ON_WHEEL, event)\n  }), [notifySubscribers]);\n  const subscribeSensors = React.useCallback((type, callback) => {\n    if (!subscribers[type]) {\n      subscribers[type] = [];\n    }\n    subscribers[type].unshift(callback);\n    return () => {\n      const listeners = subscribers[type];\n      if (listeners) {\n        listeners.splice(0, listeners.length, ...listeners.filter(el => el !== callback));\n      }\n    };\n  }, [subscribers]);\n  return {\n    registerSensors,\n    subscribeSensors\n  };\n}\nfunction useThrottle(callback, delay) {\n  const lastCallbackTime = React.useRef(0);\n  const delayCallback = useDelay();\n  const executeCallback = useEventCallback(function () {\n    lastCallbackTime.current = Date.now();\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    callback(args);\n  });\n  return React.useCallback(function () {\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n    delayCallback(() => {\n      executeCallback(args);\n    }, delay - (Date.now() - lastCallbackTime.current));\n  }, [delay, executeCallback, delayCallback]);\n}\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide(_ref7) {\n  let {\n    slide: image,\n    offset,\n    render,\n    rect,\n    imageFit,\n    imageProps,\n    onClick,\n    onLoad,\n    style\n  } = _ref7;\n  var _a, _b, _c, _d, _e, _f, _g;\n  const [status, setStatus] = React.useState(SLIDE_STATUS_LOADING);\n  const {\n    publish\n  } = useEvents();\n  const {\n    setTimeout\n  } = useTimeouts();\n  const imageRef = React.useRef(null);\n  React.useEffect(() => {\n    if (offset === 0) {\n      publish(activeSlideStatus(status));\n    }\n  }, [offset, status, publish]);\n  const handleLoading = useEventCallback(img => {\n    (\"decode\" in img ? img.decode() : Promise.resolve()).catch(() => {}).then(() => {\n      if (!img.parentNode) {\n        return;\n      }\n      setStatus(SLIDE_STATUS_COMPLETE);\n      setTimeout(() => {\n        onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n      }, 0);\n    });\n  });\n  const setImageRef = React.useCallback(img => {\n    imageRef.current = img;\n    if (img === null || img === void 0 ? void 0 : img.complete) {\n      handleLoading(img);\n    }\n  }, [handleLoading]);\n  const handleOnLoad = React.useCallback(event => {\n    handleLoading(event.currentTarget);\n  }, [handleLoading]);\n  const onError = React.useCallback(() => {\n    setStatus(SLIDE_STATUS_ERROR);\n  }, []);\n  const cover = isImageFitCover(image, imageFit);\n  const nonInfinite = (value, fallback) => Number.isFinite(value) ? value : fallback;\n  const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map(x => x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [image.width] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n  const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map(x => x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [image.height] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n  const defaultStyle = maxWidth && maxHeight ? {\n    maxWidth: \"min(\".concat(maxWidth, \"px, 100%)\"),\n    maxHeight: \"min(\".concat(maxHeight, \"px, 100%)\")\n  } : {\n    maxWidth: \"100%\",\n    maxHeight: \"100%\"\n  };\n  const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b) => a.width - b.width).map(item => \"\".concat(item.src, \" \").concat(item.width, \"w\")).join(\", \");\n  const estimateActualWidth = () => rect && !cover && image.width && image.height ? rect.height / image.height * image.width : Number.MAX_VALUE;\n  const sizes = srcSet && rect && hasWindow() ? \"\".concat(Math.round(Math.min(estimateActualWidth(), rect.width)), \"px\") : undefined;\n  const {\n    style: imagePropsStyle,\n    className: imagePropsClassName,\n    ...restImageProps\n  } = imageProps || {};\n  return React.createElement(React.Fragment, null, React.createElement(\"img\", {\n    ref: setImageRef,\n    onLoad: handleOnLoad,\n    onError: onError,\n    onClick: onClick,\n    draggable: false,\n    className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName),\n    style: {\n      ...defaultStyle,\n      ...style,\n      ...imagePropsStyle\n    },\n    ...restImageProps,\n    alt: image.alt,\n    sizes: sizes,\n    srcSet: srcSet,\n    src: image.src\n  }), status !== SLIDE_STATUS_COMPLETE && React.createElement(\"div\", {\n    className: cssClass(slidePrefix(SLIDE_STATUS_PLACEHOLDER))\n  }, status === SLIDE_STATUS_LOADING && ((render === null || render === void 0 ? void 0 : render.iconLoading) ? render.iconLoading() : React.createElement(LoadingIcon, {\n    className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_LOADING)))\n  })), status === SLIDE_STATUS_ERROR && ((render === null || render === void 0 ? void 0 : render.iconError) ? render.iconError() : React.createElement(ErrorIcon, {\n    className: clsx(cssClass(ELEMENT_ICON), cssClass(slidePrefix(SLIDE_STATUS_ERROR)))\n  }))));\n}\nvar SwipeState;\n(function (SwipeState) {\n  SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n  SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n  SwipeState[SwipeState[\"PULL_DOWN\"] = 2] = \"PULL_DOWN\";\n  SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n  React.useEffect(() => !disabled ? cleanup(subscribeSensors(EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(EVENT_ON_POINTER_CANCEL, onPointerUp)) : () => {}, [subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled]);\n}\nvar Gesture;\n(function (Gesture) {\n  Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n  Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n  Gesture[Gesture[\"PULL_DOWN\"] = 2] = \"PULL_DOWN\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullDownEnabled, onPullDownStart, onPullDownProgress, onPullDownFinish, onPullDownCancel) {\n  const offset = React.useRef(0);\n  const pointers = React.useRef([]);\n  const activePointer = React.useRef();\n  const startTime = React.useRef(0);\n  const gesture = React.useRef(Gesture.NONE);\n  const clearPointer = React.useCallback(event => {\n    if (activePointer.current === event.pointerId) {\n      activePointer.current = undefined;\n      gesture.current = Gesture.NONE;\n    }\n    const currentPointers = pointers.current;\n    currentPointers.splice(0, currentPointers.length, ...currentPointers.filter(p => p.pointerId !== event.pointerId));\n  }, []);\n  const addPointer = React.useCallback(event => {\n    clearPointer(event);\n    event.persist();\n    pointers.current.push(event);\n  }, [clearPointer]);\n  const onPointerDown = useEventCallback(event => {\n    addPointer(event);\n  });\n  const onPointerUp = useEventCallback(event => {\n    if (pointers.current.find(x => x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n      const duration = Date.now() - startTime.current;\n      const currentOffset = offset.current;\n      if (gesture.current === Gesture.SWIPE) {\n        if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n          onSwipeFinish(currentOffset, duration);\n        } else {\n          onSwipeCancel(currentOffset);\n        }\n      } else if (gesture.current === Gesture.PULL_DOWN) {\n        if (currentOffset > 2 * SWIPE_THRESHOLD) {\n          onPullDownFinish(currentOffset, duration);\n        } else {\n          onPullDownCancel(currentOffset);\n        }\n      }\n      offset.current = 0;\n      gesture.current = Gesture.NONE;\n    }\n    clearPointer(event);\n  });\n  const onPointerMove = useEventCallback(event => {\n    const pointer = pointers.current.find(p => p.pointerId === event.pointerId);\n    if (pointer) {\n      const isCurrentPointer = activePointer.current === event.pointerId;\n      if (event.buttons === 0) {\n        if (isCurrentPointer && offset.current !== 0) {\n          onPointerUp(event);\n        } else {\n          clearPointer(pointer);\n        }\n        return;\n      }\n      const deltaX = event.clientX - pointer.clientX;\n      const deltaY = event.clientY - pointer.clientY;\n      if (activePointer.current === undefined) {\n        const startGesture = newGesture => {\n          addPointer(event);\n          activePointer.current = event.pointerId;\n          startTime.current = Date.now();\n          gesture.current = newGesture;\n        };\n        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n          startGesture(Gesture.SWIPE);\n          onSwipeStart();\n        } else if (pullDownEnabled && Math.abs(deltaY) > Math.abs(deltaX) && deltaY > SWIPE_THRESHOLD) {\n          startGesture(Gesture.PULL_DOWN);\n          onPullDownStart();\n        }\n      } else if (isCurrentPointer) {\n        if (gesture.current === Gesture.SWIPE) {\n          offset.current = deltaX;\n          onSwipeProgress(deltaX);\n        } else if (gesture.current === Gesture.PULL_DOWN) {\n          offset.current = deltaY;\n          onPullDownProgress(deltaY);\n        }\n      }\n    }\n  });\n  usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\nconst WHEEL = \"wheel\";\nfunction preventDefault(event) {\n  if (Math.abs(event.deltaX) > Math.abs(event.deltaY) || event.ctrlKey) {\n    event.preventDefault();\n  }\n}\nfunction usePreventSwipeNavigation() {\n  const ref = React.useRef(null);\n  return React.useCallback(node => {\n    var _a;\n    if (node) {\n      node.addEventListener(WHEEL, preventDefault, {\n        passive: false\n      });\n    } else {\n      (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(WHEEL, preventDefault);\n    }\n    ref.current = node;\n  }, []);\n}\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n  const offset = React.useRef(0);\n  const intent = React.useRef(0);\n  const intentCleanup = React.useRef();\n  const resetCleanup = React.useRef();\n  const wheelResidualMomentum = React.useRef(0);\n  const startTime = React.useRef(0);\n  const {\n    setTimeout,\n    clearTimeout\n  } = useTimeouts();\n  const cancelSwipeIntentCleanup = React.useCallback(() => {\n    if (intentCleanup.current) {\n      clearTimeout(intentCleanup.current);\n      intentCleanup.current = undefined;\n    }\n  }, [clearTimeout]);\n  const cancelSwipeResetCleanup = React.useCallback(() => {\n    if (resetCleanup.current) {\n      clearTimeout(resetCleanup.current);\n      resetCleanup.current = undefined;\n    }\n  }, [clearTimeout]);\n  const handleCleanup = useEventCallback(() => {\n    if (swipeState !== SwipeState.SWIPE) {\n      offset.current = 0;\n      startTime.current = 0;\n      cancelSwipeIntentCleanup();\n      cancelSwipeResetCleanup();\n    }\n  });\n  React.useEffect(handleCleanup, [swipeState, handleCleanup]);\n  const handleCancelSwipe = useEventCallback(currentSwipeOffset => {\n    resetCleanup.current = undefined;\n    if (offset.current === currentSwipeOffset) {\n      onSwipeCancel(offset.current);\n    }\n  });\n  const onWheel = useEventCallback(event => {\n    if (event.ctrlKey) {\n      return;\n    }\n    if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n      return;\n    }\n    if (swipeState === SwipeState.NONE) {\n      if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n        wheelResidualMomentum.current = event.deltaX;\n        return;\n      }\n      if (!isSwipeValid(-event.deltaX)) {\n        return;\n      }\n      intent.current += event.deltaX;\n      cancelSwipeIntentCleanup();\n      if (Math.abs(intent.current) > 30) {\n        intent.current = 0;\n        wheelResidualMomentum.current = 0;\n        startTime.current = Date.now();\n        onSwipeStart();\n      } else {\n        const currentSwipeIntent = intent.current;\n        intentCleanup.current = setTimeout(() => {\n          intentCleanup.current = undefined;\n          if (currentSwipeIntent === intent.current) {\n            intent.current = 0;\n          }\n        }, swipeAnimationDuration);\n      }\n    } else if (swipeState === SwipeState.SWIPE) {\n      let newSwipeOffset = offset.current - event.deltaX;\n      newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n      offset.current = newSwipeOffset;\n      onSwipeProgress(newSwipeOffset);\n      cancelSwipeResetCleanup();\n      if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n        wheelResidualMomentum.current = event.deltaX;\n        onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n        return;\n      }\n      resetCleanup.current = setTimeout(() => handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n    } else {\n      wheelResidualMomentum.current = event.deltaX;\n    }\n  });\n  React.useEffect(() => subscribeSensors(EVENT_ON_WHEEL, onWheel), [subscribeSensors, onWheel]);\n}\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = React.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller(_ref8) {\n  let {\n    children,\n    ...props\n  } = _ref8;\n  var _a;\n  const {\n    carousel,\n    animation,\n    controller,\n    on,\n    styles,\n    render\n  } = props;\n  const [toolbarWidth, setToolbarWidth] = React.useState();\n  const state = useLightboxState();\n  const dispatch = useLightboxDispatch();\n  const [swipeState, setSwipeState] = React.useState(SwipeState.NONE);\n  const swipeOffset = React.useRef(0);\n  const pullDownOffset = React.useRef(0);\n  const pullDownOpacity = React.useRef(1);\n  const {\n    registerSensors,\n    subscribeSensors\n  } = useSensors();\n  const {\n    subscribe,\n    publish\n  } = useEvents();\n  const cleanupAnimationIncrement = useDelay();\n  const cleanupSwipeOffset = useDelay();\n  const cleanupPullDownOffset = useDelay();\n  const {\n    containerRef,\n    setContainerRef,\n    containerRect\n  } = useContainerRect();\n  const handleContainerRef = useForkRef(usePreventSwipeNavigation(), setContainerRef);\n  const carouselRef = React.useRef(null);\n  const setCarouselRef = useForkRef(carouselRef, undefined);\n  const isRTL = useRTL();\n  const rtl = value => (isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n  const focus = useEventCallback(() => {\n    var _a;\n    return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n  });\n  const getLightboxProps = useEventCallback(() => props);\n  const getLightboxState = useEventCallback(() => state);\n  const prev = React.useCallback(params => publish(ACTION_PREV, params), [publish]);\n  const next = React.useCallback(params => publish(ACTION_NEXT, params), [publish]);\n  const close = React.useCallback(() => publish(ACTION_CLOSE), [publish]);\n  const isSwipeValid = offset => !(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === state.slides.length - 1));\n  const setSwipeOffset = offset => {\n    var _a;\n    swipeOffset.current = offset;\n    (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), \"\".concat(Math.round(offset), \"px\"));\n  };\n  const {\n    closeOnPullDown\n  } = controller;\n  const setPullDownOffset = offset => {\n    var _a, _b;\n    pullDownOffset.current = offset;\n    pullDownOpacity.current = (() => {\n      const threshold = 60;\n      const minOpacity = 0.5;\n      return Math.min(Math.max(round(1 - offset / threshold * (1 - minOpacity), 2), minOpacity), 1);\n    })();\n    (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_down_offset\"), \"\".concat(Math.round(offset), \"px\"));\n    (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_down_opacity\"), \"\".concat(pullDownOpacity.current));\n  };\n  const {\n    prepareAnimation: preparePullDownAnimation\n  } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n    if (carouselRef.current && containerRect) {\n      return {\n        keyframes: [{\n          transform: \"translate(0, \".concat(snapshot.rect.y - rect.y + translate.y, \"px)\"),\n          opacity: snapshot.opacity\n        }, {\n          transform: \"translate(0, 0)\",\n          opacity: 1\n        }],\n        duration: snapshot.duration,\n        easing: animation.easing.fade\n      };\n    }\n    return undefined;\n  });\n  const pullDown = (offset, cancel) => {\n    if (closeOnPullDown) {\n      setPullDownOffset(offset);\n      let duration = 0;\n      if (carouselRef.current) {\n        duration = animation.fade * (cancel ? 2 : 1);\n        preparePullDownAnimation({\n          rect: carouselRef.current.getBoundingClientRect(),\n          opacity: pullDownOpacity.current,\n          duration\n        });\n      }\n      cleanupPullDownOffset(() => {\n        setPullDownOffset(0);\n        setSwipeState(SwipeState.NONE);\n      }, duration);\n      setSwipeState(SwipeState.ANIMATION);\n      if (!cancel) {\n        close();\n      }\n    }\n  };\n  const {\n    prepareAnimation,\n    isAnimationPlaying\n  } = useAnimation(carouselRef, (snapshot, rect, translate) => {\n    var _a;\n    if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n      const parsedSpacing = parseLengthPercentage(carousel.spacing);\n      const spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n      return {\n        keyframes: [{\n          transform: \"translate(\".concat(rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) + snapshot.rect.x - rect.x + translate.x, \"px, 0)\")\n        }, {\n          transform: \"translate(0, 0)\"\n        }],\n        duration: state.animation.duration,\n        easing: state.animation.easing\n      };\n    }\n    return undefined;\n  });\n  const swipe = useEventCallback(action => {\n    var _a, _b;\n    const currentSwipeOffset = action.offset || 0;\n    const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n    const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n    let {\n      direction\n    } = action;\n    const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n    let newSwipeState = SwipeState.ANIMATION;\n    let newSwipeAnimationDuration = swipeDuration * count;\n    if (!direction) {\n      const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n      const elapsedTime = action.duration || 0;\n      const expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n      if (count !== 0) {\n        if (elapsedTime < expectedTime) {\n          newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n        } else if (containerWidth) {\n          newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n        }\n        direction = rtl(currentSwipeOffset) > 0 ? ACTION_PREV : ACTION_NEXT;\n      } else {\n        newSwipeAnimationDuration = swipeDuration / 2;\n      }\n    }\n    let increment = 0;\n    if (direction === ACTION_PREV) {\n      if (isSwipeValid(rtl(1))) {\n        increment = -count;\n      } else {\n        newSwipeState = SwipeState.NONE;\n        newSwipeAnimationDuration = swipeDuration;\n      }\n    } else if (direction === ACTION_NEXT) {\n      if (isSwipeValid(rtl(-1))) {\n        increment = count;\n      } else {\n        newSwipeState = SwipeState.NONE;\n        newSwipeAnimationDuration = swipeDuration;\n      }\n    }\n    newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n    cleanupSwipeOffset(() => {\n      setSwipeOffset(0);\n      setSwipeState(SwipeState.NONE);\n    }, newSwipeAnimationDuration);\n    if (carouselRef.current) {\n      prepareAnimation({\n        rect: carouselRef.current.getBoundingClientRect(),\n        index: state.globalIndex\n      });\n    }\n    setSwipeState(newSwipeState);\n    publish(ACTION_SWIPE, {\n      type: \"swipe\",\n      increment,\n      duration: newSwipeAnimationDuration,\n      easing: swipeEasing\n    });\n  });\n  React.useEffect(() => {\n    var _a, _b;\n    if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n      cleanupAnimationIncrement(() => dispatch({\n        type: \"swipe\",\n        increment: 0\n      }), state.animation.duration);\n    }\n  }, [state.animation, dispatch, cleanupAnimationIncrement]);\n  const swipeParams = [subscribeSensors, isSwipeValid, (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0, animation.swipe, () => setSwipeState(SwipeState.SWIPE), offset => setSwipeOffset(offset), (offset, duration) => swipe({\n    offset,\n    duration,\n    count: 1\n  }), offset => swipe({\n    offset,\n    count: 0\n  })];\n  const pullDownParams = [() => {\n    if (closeOnPullDown) {\n      setSwipeState(SwipeState.PULL_DOWN);\n    }\n  }, offset => setPullDownOffset(offset), offset => pullDown(offset), offset => pullDown(offset, true)];\n  usePointerSwipe(...swipeParams, closeOnPullDown, ...pullDownParams);\n  useWheelSwipe(swipeState, ...swipeParams);\n  const focusOnMount = useEventCallback(() => {\n    if (controller.focus) {\n      if (document.querySelector(\".\".concat(cssClass(MODULE_PORTAL), \" .\").concat(cssClass(cssContainerPrefix())))) {\n        focus();\n      }\n    }\n  });\n  React.useEffect(focusOnMount, [focusOnMount]);\n  const onViewCallback = useEventCallback(() => {\n    var _a;\n    (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, {\n      index: state.currentIndex\n    });\n  });\n  React.useEffect(onViewCallback, [state.globalIndex, onViewCallback]);\n  React.useEffect(() => cleanup(subscribe(ACTION_PREV, action => swipe({\n    direction: ACTION_PREV,\n    ...action\n  })), subscribe(ACTION_NEXT, action => swipe({\n    direction: ACTION_NEXT,\n    ...action\n  })), subscribe(ACTION_SWIPE, action => dispatch(action))), [subscribe, swipe, dispatch]);\n  const context = React.useMemo(() => ({\n    prev,\n    next,\n    close,\n    focus,\n    slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : {\n      width: 0,\n      height: 0\n    },\n    containerRect: containerRect || {\n      width: 0,\n      height: 0\n    },\n    subscribeSensors,\n    containerRef,\n    setCarouselRef,\n    toolbarWidth,\n    setToolbarWidth\n  }), [prev, next, close, focus, subscribeSensors, containerRect, containerRef, setCarouselRef, toolbarWidth, setToolbarWidth, carousel.padding]);\n  React.useImperativeHandle(controller.ref, () => ({\n    prev,\n    next,\n    close,\n    focus,\n    getLightboxProps,\n    getLightboxState\n  }), [prev, next, close, focus, getLightboxProps, getLightboxState]);\n  return React.createElement(\"div\", {\n    ref: handleContainerRef,\n    className: clsx(cssClass(cssContainerPrefix()), cssClass(CLASS_FLEX_CENTER)),\n    style: {\n      ...(swipeState === SwipeState.SWIPE ? {\n        [cssVar(\"swipe_offset\")]: \"\".concat(Math.round(swipeOffset.current), \"px\")\n      } : null),\n      ...(swipeState === SwipeState.PULL_DOWN ? {\n        [cssVar(\"pull_down_offset\")]: \"\".concat(Math.round(pullDownOffset.current), \"px\"),\n        [cssVar(\"pull_down_opacity\")]: \"\".concat(pullDownOpacity.current)\n      } : null),\n      ...(controller.touchAction !== \"none\" ? {\n        [cssVar(\"controller_touch_action\")]: controller.touchAction\n      } : null),\n      ...styles.container\n    },\n    ...(controller.aria ? {\n      role: \"presentation\",\n      \"aria-live\": \"polite\"\n    } : null),\n    tabIndex: -1,\n    ...registerSensors\n  }, containerRect && React.createElement(ControllerContext.Provider, {\n    value: context\n  }, children, (_a = render.controls) === null || _a === void 0 ? void 0 : _a.call(render)));\n}\nconst ControllerModule = createModule(MODULE_CONTROLLER, Controller);\nfunction cssPrefix$2(value) {\n  return composePrefix(MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n  return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide(_ref9) {\n  let {\n    slide,\n    offset\n  } = _ref9;\n  const containerRef = React.useRef(null);\n  const {\n    currentIndex\n  } = useLightboxState();\n  const {\n    slideRect,\n    close\n  } = useController();\n  const {\n    render,\n    carousel: {\n      imageFit,\n      imageProps\n    },\n    on: {\n      click: onClick\n    },\n    controller: {\n      closeOnBackdropClick\n    },\n    styles: {\n      slide: style\n    }\n  } = useLightboxProps();\n  const renderSlide = () => {\n    var _a, _b, _c, _d;\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n      slide,\n      offset,\n      rect: slideRect\n    });\n    if (!rendered && isImageSlide(slide)) {\n      rendered = React.createElement(ImageSlide, {\n        slide: slide,\n        offset: offset,\n        render: render,\n        rect: slideRect,\n        imageFit: imageFit,\n        imageProps: imageProps,\n        onClick: offset === 0 ? () => onClick === null || onClick === void 0 ? void 0 : onClick({\n          index: currentIndex\n        }) : undefined\n      });\n    }\n    return rendered ? React.createElement(React.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 : _b.call(render, {\n      slide\n    }), ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : _ref10 => {\n      let {\n        children\n      } = _ref10;\n      return children;\n    })({\n      slide,\n      children: rendered\n    }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 : _d.call(render, {\n      slide\n    })) : null;\n  };\n  const handleBackdropClick = event => {\n    const container = containerRef.current;\n    const target = event.target instanceof HTMLElement ? event.target : undefined;\n    if (closeOnBackdropClick && target && container && (target === container || Array.from(container.children).find(x => x === target) && target.classList.contains(cssClass(CLASS_SLIDE_WRAPPER)))) {\n      close();\n    }\n  };\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(CLASS_FLEX_CENTER)),\n    onClick: handleBackdropClick,\n    style: style\n  }, renderSlide());\n}\nfunction Placeholder() {\n  const style = useLightboxProps().styles.slide;\n  return React.createElement(\"div\", {\n    className: cssClass(\"slide\"),\n    style: style\n  });\n}\nfunction Carousel(_ref11) {\n  let {\n    carousel\n  } = _ref11;\n  const {\n    slides,\n    currentIndex,\n    globalIndex\n  } = useLightboxState();\n  const {\n    setCarouselRef\n  } = useController();\n  const spacingValue = parseLengthPercentage(carousel.spacing);\n  const paddingValue = parseLengthPercentage(carousel.padding);\n  const items = [];\n  const preload = calculatePreload(carousel, slides, 1);\n  if (hasSlides(slides)) {\n    for (let i = currentIndex - preload; i < currentIndex; i += 1) {\n      const key = globalIndex + i - currentIndex;\n      items.push(!carousel.finite || i >= 0 ? React.createElement(CarouselSlide, {\n        key: key,\n        slide: slides[(i + preload * slides.length) % slides.length],\n        offset: i - currentIndex\n      }) : React.createElement(Placeholder, {\n        key: key\n      }));\n    }\n    items.push(React.createElement(CarouselSlide, {\n      key: globalIndex,\n      slide: slides[currentIndex],\n      offset: 0\n    }));\n    for (let i = currentIndex + 1; i <= currentIndex + preload; i += 1) {\n      const key = globalIndex + i - currentIndex;\n      items.push(!carousel.finite || i <= slides.length - 1 ? React.createElement(CarouselSlide, {\n        key: key,\n        slide: slides[i % slides.length],\n        offset: i - currentIndex\n      }) : React.createElement(Placeholder, {\n        key: key\n      }));\n    }\n  }\n  return React.createElement(\"div\", {\n    ref: setCarouselRef,\n    className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))),\n    style: {\n      [\"\".concat(cssVar(cssPrefix$2(\"slides_count\")))]: items.length,\n      [\"\".concat(cssVar(cssPrefix$2(\"spacing_px\")))]: spacingValue.pixel || 0,\n      [\"\".concat(cssVar(cssPrefix$2(\"spacing_percent\")))]: spacingValue.percent || 0,\n      [\"\".concat(cssVar(cssPrefix$2(\"padding_px\")))]: paddingValue.pixel || 0,\n      [\"\".concat(cssVar(cssPrefix$2(\"padding_percent\")))]: paddingValue.percent || 0\n    }\n  }, items);\n}\nconst CarouselModule = createModule(MODULE_CAROUSEL, Carousel);\nfunction useNavigationState() {\n  const {\n    carousel\n  } = useLightboxProps();\n  const {\n    slides,\n    currentIndex\n  } = useLightboxState();\n  const prevDisabled = slides.length === 0 || carousel.finite && currentIndex === 0;\n  const nextDisabled = slides.length === 0 || carousel.finite && currentIndex === slides.length - 1;\n  return {\n    prevDisabled,\n    nextDisabled\n  };\n}\nfunction useKeyboardNavigation(subscribeSensors) {\n  var _a;\n  const isRTL = useRTL();\n  const {\n    publish\n  } = useEvents();\n  const {\n    animation\n  } = useLightboxProps();\n  const {\n    prevDisabled,\n    nextDisabled\n  } = useNavigationState();\n  const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n  const prev = useThrottle(() => publish(ACTION_PREV), throttle);\n  const next = useThrottle(() => publish(ACTION_NEXT), throttle);\n  const handleKeyDown = useEventCallback(event => {\n    switch (event.key) {\n      case VK_ESCAPE:\n        publish(ACTION_CLOSE);\n        break;\n      case VK_ARROW_LEFT:\n        if (!(isRTL ? nextDisabled : prevDisabled)) (isRTL ? next : prev)();\n        break;\n      case VK_ARROW_RIGHT:\n        if (!(isRTL ? prevDisabled : nextDisabled)) (isRTL ? prev : next)();\n        break;\n      default:\n    }\n  });\n  React.useEffect(() => subscribeSensors(EVENT_ON_KEY_DOWN, handleKeyDown), [subscribeSensors, handleKeyDown]);\n}\nfunction NavigationButton(_ref12) {\n  let {\n    label,\n    icon,\n    renderIcon,\n    action,\n    onClick,\n    disabled,\n    style\n  } = _ref12;\n  return React.createElement(IconButton, {\n    label: label,\n    icon: icon,\n    renderIcon: renderIcon,\n    className: cssClass(\"navigation_\".concat(action)),\n    disabled: disabled,\n    onClick: onClick,\n    style: style,\n    ...useLoseFocus(useController().focus, disabled)\n  });\n}\nfunction Navigation(_ref13) {\n  let {\n    render: {\n      buttonPrev,\n      buttonNext,\n      iconPrev,\n      iconNext\n    },\n    styles\n  } = _ref13;\n  const {\n    prev,\n    next,\n    subscribeSensors\n  } = useController();\n  const {\n    prevDisabled,\n    nextDisabled\n  } = useNavigationState();\n  useKeyboardNavigation(subscribeSensors);\n  return React.createElement(React.Fragment, null, buttonPrev ? buttonPrev() : React.createElement(NavigationButton, {\n    label: \"Previous\",\n    action: ACTION_PREV,\n    icon: PreviousIcon,\n    renderIcon: iconPrev,\n    style: styles.navigationPrev,\n    disabled: prevDisabled,\n    onClick: prev\n  }), buttonNext ? buttonNext() : React.createElement(NavigationButton, {\n    label: \"Next\",\n    action: ACTION_NEXT,\n    icon: NextIcon,\n    renderIcon: iconNext,\n    style: styles.navigationNext,\n    disabled: nextDisabled,\n    onClick: next\n  }));\n}\nconst NavigationModule = createModule(MODULE_NAVIGATION, Navigation);\nconst noScroll = cssClass(CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n  return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n  const styles = window.getComputedStyle(element);\n  const property = rtl ? \"padding-left\" : \"padding-right\";\n  const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n  const originalValue = element.style.getPropertyValue(property);\n  element.style.setProperty(property, \"\".concat((parseInt(computedValue) || 0) + padding, \"px\"));\n  return () => {\n    if (originalValue) {\n      element.style.setProperty(property, originalValue);\n    } else {\n      element.style.removeProperty(property);\n    }\n  };\n}\nfunction NoScroll(_ref14) {\n  let {\n    noScroll: {\n      disabled\n    },\n    children\n  } = _ref14;\n  const rtl = useRTL();\n  useLayoutEffect(() => {\n    if (disabled) return () => {};\n    const cleanup = [];\n    const {\n      body,\n      documentElement\n    } = document;\n    const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n    if (scrollbar > 0) {\n      cleanup.push(padScrollbar(body, scrollbar, rtl));\n      const elements = body.getElementsByTagName(\"*\");\n      for (let i = 0; i < elements.length; i += 1) {\n        const element = elements[i];\n        if (isHTMLElement(element) && window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" && !element.classList.contains(noScrollPadding)) {\n          cleanup.push(padScrollbar(element, scrollbar, rtl));\n        }\n      }\n    }\n    body.classList.add(noScroll);\n    return () => {\n      body.classList.remove(noScroll);\n      cleanup.forEach(clean => clean());\n    };\n  }, [rtl, disabled]);\n  return React.createElement(React.Fragment, null, children);\n}\nconst NoScrollModule = createModule(MODULE_NO_SCROLL, NoScroll);\nfunction cssPrefix$1(value) {\n  return composePrefix(MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n  const previousValue = element.getAttribute(attribute);\n  element.setAttribute(attribute, value);\n  return () => {\n    if (previousValue) {\n      element.setAttribute(attribute, previousValue);\n    } else {\n      element.removeAttribute(attribute);\n    }\n  };\n}\nfunction Portal(_ref15) {\n  let {\n    children,\n    animation,\n    styles,\n    className,\n    on,\n    portal,\n    close\n  } = _ref15;\n  const [mounted, setMounted] = React.useState(false);\n  const [visible, setVisible] = React.useState(false);\n  const cleanup = React.useRef([]);\n  const restoreFocus = React.useRef(null);\n  const {\n    setTimeout\n  } = useTimeouts();\n  const {\n    subscribe\n  } = useEvents();\n  const reduceMotion = useMotionPreference();\n  const animationDuration = !reduceMotion ? animation.fade : 0;\n  React.useEffect(() => {\n    setMounted(true);\n    return () => {\n      setMounted(false);\n      setVisible(false);\n    };\n  }, []);\n  const handleCleanup = useEventCallback(() => {\n    cleanup.current.forEach(clean => clean());\n    cleanup.current = [];\n  });\n  const handleClose = useEventCallback(() => {\n    var _a;\n    setVisible(false);\n    handleCleanup();\n    (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n    setTimeout(() => {\n      var _a;\n      (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n      close();\n    }, animationDuration);\n  });\n  React.useEffect(() => subscribe(ACTION_CLOSE, handleClose), [subscribe, handleClose]);\n  const handleEnter = useEventCallback(node => {\n    var _a, _b, _c;\n    node.scrollTop;\n    setVisible(true);\n    (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n    const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n    for (let i = 0; i < elements.length; i += 1) {\n      const element = elements[i];\n      if ([\"TEMPLATE\", \"SCRIPT\", \"STYLE\"].indexOf(element.tagName) === -1 && element !== node) {\n        cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n        cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n      }\n    }\n    cleanup.current.push(() => {\n      var _a, _b;\n      (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n    });\n    setTimeout(() => {\n      var _a;\n      (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n    }, animationDuration);\n  });\n  const handleRef = React.useCallback(node => {\n    if (node) {\n      handleEnter(node);\n    } else {\n      handleCleanup();\n    }\n  }, [handleEnter, handleCleanup]);\n  return mounted ? createPortal(React.createElement(\"div\", {\n    ref: handleRef,\n    className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))),\n    role: \"presentation\",\n    \"aria-live\": \"polite\",\n    style: {\n      ...(animation.fade !== LightboxDefaultProps.animation.fade ? {\n        [cssVar(\"fade_animation_duration\")]: \"\".concat(animationDuration, \"ms\")\n      } : null),\n      ...(animation.easing.fade !== LightboxDefaultProps.animation.easing.fade ? {\n        [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade\n      } : null),\n      ...styles.root\n    },\n    onFocus: event => {\n      if (!restoreFocus.current) {\n        restoreFocus.current = event.relatedTarget;\n      }\n    }\n  }, children), portal.root || document.body) : null;\n}\nconst PortalModule = createModule(MODULE_PORTAL, Portal);\nfunction Root(_ref16) {\n  let {\n    children\n  } = _ref16;\n  return React.createElement(React.Fragment, null, children);\n}\nconst RootModule = createModule(MODULE_ROOT, Root);\nfunction cssPrefix(value) {\n  return composePrefix(MODULE_TOOLBAR, value);\n}\nfunction Toolbar(_ref17) {\n  let {\n    toolbar: {\n      buttons\n    },\n    render: {\n      buttonClose,\n      iconClose\n    },\n    styles\n  } = _ref17;\n  const {\n    close,\n    setToolbarWidth\n  } = useController();\n  const {\n    setContainerRef,\n    containerRect\n  } = useContainerRect();\n  useLayoutEffect(() => {\n    setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n  }, [setToolbarWidth, containerRect === null || containerRect === void 0 ? void 0 : containerRect.width]);\n  const renderCloseButton = () => {\n    if (buttonClose) return buttonClose();\n    return React.createElement(IconButton, {\n      key: ACTION_CLOSE,\n      label: \"Close\",\n      icon: CloseIcon,\n      renderIcon: iconClose,\n      onClick: close\n    });\n  };\n  return React.createElement(\"div\", {\n    ref: setContainerRef,\n    style: styles.toolbar,\n    className: cssClass(cssPrefix())\n  }, buttons === null || buttons === void 0 ? void 0 : buttons.map(button => button === ACTION_CLOSE ? renderCloseButton() : button));\n}\nconst ToolbarModule = createModule(MODULE_TOOLBAR, Toolbar);\nfunction renderNode(node, props) {\n  var _a;\n  return React.createElement(node.module.component, {\n    key: node.module.name,\n    ...props\n  }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map(child => renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation) {\n  let animation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    easing: defaultAnimationEasing,\n    ...restDefaultAnimation\n  } = defaultAnimation;\n  const {\n    easing,\n    ...restAnimation\n  } = animation;\n  return {\n    easing: {\n      ...defaultAnimationEasing,\n      ...easing\n    },\n    ...restDefaultAnimation,\n    ...restAnimation\n  };\n}\nfunction Lightbox(_ref18) {\n  let {\n    carousel,\n    animation,\n    render,\n    toolbar,\n    controller,\n    noScroll,\n    on,\n    plugins,\n    slides,\n    index,\n    ...restProps\n  } = _ref18;\n  const {\n    animation: defaultAnimation,\n    carousel: defaultCarousel,\n    render: defaultRender,\n    toolbar: defaultToolbar,\n    controller: defaultController,\n    noScroll: defaultNoScroll,\n    on: defaultOn,\n    slides: defaultSlides,\n    index: defaultIndex,\n    plugins: defaultPlugins,\n    ...restDefaultProps\n  } = LightboxDefaultProps;\n  const {\n    config,\n    augmentation\n  } = withPlugins([createNode(PortalModule, [createNode(NoScrollModule, [createNode(ControllerModule, [createNode(CarouselModule), createNode(ToolbarModule), createNode(NavigationModule)])])])], plugins || defaultPlugins);\n  const props = augmentation({\n    animation: mergeAnimation(defaultAnimation, animation),\n    carousel: {\n      ...defaultCarousel,\n      ...carousel\n    },\n    render: {\n      ...defaultRender,\n      ...render\n    },\n    toolbar: {\n      ...defaultToolbar,\n      ...toolbar\n    },\n    controller: {\n      ...defaultController,\n      ...controller\n    },\n    noScroll: {\n      ...defaultNoScroll,\n      ...noScroll\n    },\n    on: {\n      ...defaultOn,\n      ...on\n    },\n    ...restDefaultProps,\n    ...restProps\n  });\n  if (!props.open) return null;\n  return React.createElement(LightboxPropsProvider, {\n    ...props\n  }, React.createElement(LightboxStateProvider, {\n    slides: slides || defaultSlides,\n    index: parseInt(index || defaultIndex)\n  }, React.createElement(TimeoutsProvider, null, React.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props)))));\n}\nexport { ACTION_CLOSE, ACTION_NEXT, ACTION_PREV, ACTION_SWIPE, CLASS_FLEX_CENTER, CLASS_NO_SCROLL, CLASS_NO_SCROLL_PADDING, CLASS_SLIDE_WRAPPER, Carousel, CarouselModule, CloseIcon, Controller, ControllerContext, ControllerModule, ELEMENT_BUTTON, ELEMENT_ICON, EVENT_ON_KEY_DOWN, EVENT_ON_KEY_UP, EVENT_ON_POINTER_CANCEL, EVENT_ON_POINTER_DOWN, EVENT_ON_POINTER_LEAVE, EVENT_ON_POINTER_MOVE, EVENT_ON_POINTER_UP, EVENT_ON_WHEEL, ErrorIcon, EventsContext, EventsProvider, IMAGE_FIT_CONTAIN, IMAGE_FIT_COVER, IconButton, ImageSlide, Lightbox, LightboxDefaultProps, LightboxDispatchContext, LightboxPropsContext, LightboxPropsProvider, LightboxStateContext, LightboxStateProvider, LoadingIcon, MODULE_CAROUSEL, MODULE_CONTROLLER, MODULE_NAVIGATION, MODULE_NO_SCROLL, MODULE_PORTAL, MODULE_ROOT, MODULE_TOOLBAR, Navigation, NavigationButton, NavigationModule, NextIcon, NoScroll, NoScrollModule, Portal, PortalModule, PreviousIcon, Root, RootModule, SLIDE_STATUS_COMPLETE, SLIDE_STATUS_ERROR, SLIDE_STATUS_LOADING, SLIDE_STATUS_PLACEHOLDER, SwipeState, TimeoutsContext, TimeoutsProvider, Toolbar, ToolbarModule, UNKNOWN_ACTION_TYPE, VK_ARROW_LEFT, VK_ARROW_RIGHT, VK_ESCAPE, activeSlideStatus, addToolbarButton, calculatePreload, cleanup, clsx, composePrefix, computeSlideRect, createIcon, createIconDisabled, createModule, createNode, cssClass, cssVar, Lightbox as default, devicePixelRatio, getSlide, getSlideIfPresent, getSlideIndex, hasSlides, hasWindow, isImageFitCover, isImageSlide, label, makeComposePrefix, makeUseContext, parseInt, parseLengthPercentage, round, setRef, stopNavigationEventsPropagation, useAnimation, useContainerRect, useController, useDelay, useEventCallback, useEvents, useForkRef, useKeyboardNavigation, useLayoutEffect, useLightboxDispatch, useLightboxProps, useLightboxState, useLoseFocus, useMotionPreference, useNavigationState, usePointerEvents, usePointerSwipe, usePreventSwipeNavigation, useRTL, useSensors, useThrottle, useTimeouts, useWheelSwipe, withPlugins };","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : String(i);\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _throttle = _interopRequireDefault(require(\"./throttle\"));\nfunction isEqualArray(a, b) {\n  return a.length === b.length && a.every(function (item, index) {\n    return item === b[index];\n  });\n}\nvar Scrollspy = /*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(Scrollspy, _React$Component);\n  (0, _createClass2.default)(Scrollspy, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        items: _propTypes.default.arrayOf(_propTypes.default.string).isRequired,\n        currentClassName: _propTypes.default.string.isRequired,\n        scrolledPastClassName: _propTypes.default.string,\n        style: _propTypes.default.object,\n        componentTag: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.elementType]),\n        offset: _propTypes.default.number,\n        rootEl: _propTypes.default.string,\n        onUpdate: _propTypes.default.func\n      };\n    }\n  }, {\n    key: \"defaultProps\",\n    get: function get() {\n      return {\n        items: [],\n        currentClassName: '',\n        style: {},\n        componentTag: 'ul',\n        offset: 0,\n        onUpdate: function onUpdate() {}\n      };\n    }\n  }]);\n  function Scrollspy(props) {\n    var _this;\n    (0, _classCallCheck2.default)(this, Scrollspy);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Scrollspy).call(this, props));\n    _this.state = {\n      targetItems: [],\n      inViewState: [],\n      isScrolledPast: [] // manually bind as ES6 does not apply this\n      // auto binding as React.createClass does\n    };\n    _this._handleSpy = _this._handleSpy.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n  (0, _createClass2.default)(Scrollspy, [{\n    key: \"_initSpyTarget\",\n    value: function _initSpyTarget(items) {\n      var targetItems = items.map(function (item) {\n        return document.getElementById(item);\n      });\n      return targetItems;\n    } // https://github.com/makotot/react-scrollspy/pull/45\n  }, {\n    key: \"_fillArray\",\n    value: function _fillArray(array, val) {\n      var newArray = [];\n      for (var i = 0, max = array.length; i < max; i++) {\n        newArray[i] = val;\n      }\n      return newArray;\n    }\n  }, {\n    key: \"_isScrolled\",\n    value: function _isScrolled() {\n      return this._getScrollDimension().scrollTop > 0;\n    }\n  }, {\n    key: \"_getScrollDimension\",\n    value: function _getScrollDimension() {\n      var doc = document;\n      var rootEl = this.props.rootEl;\n      var scrollTop = rootEl ? doc.querySelector(rootEl).scrollTop : doc.documentElement.scrollTop || doc.body.parentNode.scrollTop || doc.body.scrollTop;\n      var scrollHeight = rootEl ? doc.querySelector(rootEl).scrollHeight : doc.documentElement.scrollHeight || doc.body.parentNode.scrollHeight || doc.body.scrollHeight;\n      return {\n        scrollTop: scrollTop,\n        scrollHeight: scrollHeight\n      };\n    }\n  }, {\n    key: \"_getElemsViewState\",\n    value: function _getElemsViewState(targets) {\n      var elemsInView = [];\n      var elemsOutView = [];\n      var viewStatusList = [];\n      var targetItems = targets ? targets : this.state.targetItems;\n      var hasInViewAlready = false;\n      for (var i = 0, max = targetItems.length; i < max; i++) {\n        var currentContent = targetItems[i];\n        var isInView = hasInViewAlready ? false : this._isInView(currentContent);\n        if (isInView) {\n          hasInViewAlready = true;\n          elemsInView.push(currentContent);\n        } else {\n          elemsOutView.push(currentContent);\n        }\n        var isLastItem = i === max - 1;\n        var isScrolled = this._isScrolled(); // https://github.com/makotot/react-scrollspy/pull/26#issue-167413769\n\n        var isLastShortItemAtBottom = this._isAtBottom() && this._isInView(currentContent) && !isInView && isLastItem && isScrolled;\n        if (isLastShortItemAtBottom) {\n          elemsOutView.pop();\n          elemsOutView.push.apply(elemsOutView, (0, _toConsumableArray2.default)(elemsInView));\n          elemsInView = [currentContent];\n          viewStatusList = this._fillArray(viewStatusList, false);\n          isInView = true;\n        }\n        viewStatusList.push(isInView);\n      }\n      return {\n        inView: elemsInView,\n        outView: elemsOutView,\n        viewStatusList: viewStatusList,\n        scrolledPast: this.props.scrolledPastClassName && this._getScrolledPast(viewStatusList)\n      };\n    }\n  }, {\n    key: \"_isInView\",\n    value: function _isInView(el) {\n      if (!el) {\n        return false;\n      }\n      var _this$props = this.props,\n        rootEl = _this$props.rootEl,\n        offset = _this$props.offset;\n      var rootRect;\n      if (rootEl) {\n        rootRect = document.querySelector(rootEl).getBoundingClientRect();\n      }\n      var rect = el.getBoundingClientRect();\n      var winH = rootEl ? rootRect.height : window.innerHeight;\n      var _this$_getScrollDimen = this._getScrollDimension(),\n        scrollTop = _this$_getScrollDimen.scrollTop;\n      var scrollBottom = scrollTop + winH;\n      var elTop = rootEl ? rect.top + scrollTop - rootRect.top + offset : rect.top + scrollTop + offset;\n      var elBottom = elTop + el.offsetHeight;\n      return elTop < scrollBottom && elBottom > scrollTop;\n    }\n  }, {\n    key: \"_isAtBottom\",\n    value: function _isAtBottom() {\n      var rootEl = this.props.rootEl;\n      var _this$_getScrollDimen2 = this._getScrollDimension(),\n        scrollTop = _this$_getScrollDimen2.scrollTop,\n        scrollHeight = _this$_getScrollDimen2.scrollHeight;\n      var winH = rootEl ? document.querySelector(rootEl).getBoundingClientRect().height : window.innerHeight;\n      var scrolledToBottom = scrollTop + winH >= scrollHeight;\n      return scrolledToBottom;\n    }\n  }, {\n    key: \"_getScrolledPast\",\n    value: function _getScrolledPast(viewStatusList) {\n      if (!viewStatusList.some(function (item) {\n        return item;\n      })) {\n        return viewStatusList;\n      }\n      var hasFoundInView = false;\n      var scrolledPastItems = viewStatusList.map(function (item) {\n        if (item && !hasFoundInView) {\n          hasFoundInView = true;\n          return false;\n        }\n        return !hasFoundInView;\n      });\n      return scrolledPastItems;\n    }\n  }, {\n    key: \"_spy\",\n    value: function _spy(targets) {\n      var _this2 = this;\n      var elemensViewState = this._getElemsViewState(targets);\n      var currentStatuses = this.state.inViewState;\n      this.setState({\n        inViewState: elemensViewState.viewStatusList,\n        isScrolledPast: elemensViewState.scrolledPast\n      }, function () {\n        _this2._update(currentStatuses);\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(prevStatuses) {\n      if (isEqualArray(this.state.inViewState, prevStatuses)) {\n        return;\n      }\n      this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(true)]);\n    }\n  }, {\n    key: \"_handleSpy\",\n    value: function _handleSpy() {\n      (0, _throttle.default)(this._spy(), 100);\n    }\n  }, {\n    key: \"_initFromProps\",\n    value: function _initFromProps() {\n      var targetItems = this._initSpyTarget(this.props.items);\n      this.setState({\n        targetItems: targetItems\n      });\n      this._spy(targetItems);\n    }\n  }, {\n    key: \"offEvent\",\n    value: function offEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.removeEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"onEvent\",\n    value: function onEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.addEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._initFromProps();\n      this.onEvent();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.offEvent();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps() {\n      this._initFromProps();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var Tag = this.props.componentTag;\n      var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        scrolledPastClassName = _this$props2.scrolledPastClassName,\n        style = _this$props2.style;\n      var counter = 0;\n      var items = _react.default.Children.map(children, function (child, idx) {\n        var _classNames;\n        if (!child) {\n          return null;\n        }\n        var ChildTag = child.type;\n        var isScrolledPast = scrolledPastClassName && _this3.state.isScrolledPast[idx];\n        var childClass = (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(child.props.className), child.props.className), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.currentClassName), _this3.state.inViewState[idx]), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.scrolledPastClassName), isScrolledPast), _classNames));\n        return _react.default.createElement(ChildTag, (0, _extends2.default)({}, child.props, {\n          className: childClass,\n          key: counter++\n        }), child.props.children);\n      });\n      var itemClass = (0, _classnames.default)((0, _defineProperty2.default)({}, \"\".concat(className), className));\n      return _react.default.createElement(Tag, {\n        className: itemClass,\n        style: style\n      }, items);\n    }\n  }]);\n  return Scrollspy;\n}(_react.default.Component);\nexports.default = Scrollspy;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _extends() {\n  module.exports = _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _extends.apply(this, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\nvar iterableToArray = require(\"./iterableToArray.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n  function classNames() {\n    var classes = '';\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (arg) {\n        classes = appendClass(classes, parseValue(arg));\n      }\n    }\n    return classes;\n  }\n  function parseValue(arg) {\n    if (typeof arg === 'string' || typeof arg === 'number') {\n      return arg;\n    }\n    if (typeof arg !== 'object') {\n      return '';\n    }\n    if (Array.isArray(arg)) {\n      return classNames.apply(null, arg);\n    }\n    if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n      return arg.toString();\n    }\n    var classes = '';\n    for (var key in arg) {\n      if (hasOwn.call(arg, key) && arg[key]) {\n        classes = appendClass(classes, key);\n      }\n    }\n    return classes;\n  }\n  function appendClass(value, newClass) {\n    if (!newClass) {\n      return value;\n    }\n    if (value) {\n      return value + ' ' + newClass;\n    }\n    return value + newClass;\n  }\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar throttle = function throttle(fn) {\n  var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n  var last;\n  var timer;\n  return function () {\n    var now = +new Date();\n    var timePassed = !!last && now < last + threshold;\n    if (timePassed) {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        last = now;\n        fn();\n      }, threshold);\n    } else {\n      last = now;\n      fn();\n    }\n  };\n};\nvar _default = throttle;\nexports.default = _default;","import * as React from 'react';\nimport { useLightboxProps, useEvents, useContainerRect, useEventCallback, cssClass, clsx } from '../../index.js';\nimport { ACTIVE_SLIDE_LOADING, CLASS_FLEX_CENTER, CLASS_SLIDE_WRAPPER, ACTIVE_SLIDE_PLAYING, ACTIVE_SLIDE_COMPLETE } from '../../types.js';\nconst defaultVideoProps = {\n  controls: true,\n  playsInline: true\n};\nconst resolveVideoProps = video => ({\n  ...defaultVideoProps,\n  ...video\n});\nfunction useVideoProps() {\n  const {\n    video\n  } = useLightboxProps();\n  return resolveVideoProps(video);\n}\nfunction VideoSlide(_ref) {\n  let {\n    slide,\n    offset\n  } = _ref;\n  const video = useVideoProps();\n  const {\n    publish\n  } = useEvents();\n  const {\n    setContainerRef,\n    containerRect\n  } = useContainerRect();\n  const videoRef = React.useRef(null);\n  React.useEffect(() => {\n    if (offset !== 0 && videoRef.current && !videoRef.current.paused) {\n      videoRef.current.pause();\n    }\n  }, [offset]);\n  React.useEffect(() => {\n    if (offset === 0 && videoRef.current && (slide.autoPlay || video.autoPlay)) {\n      publish(ACTIVE_SLIDE_LOADING);\n      videoRef.current.play().catch(() => {});\n    }\n  }, [offset, video.autoPlay, slide.autoPlay, publish]);\n  const handleVideoRef = useEventCallback(node => {\n    if (offset === 0 && (video.autoPlay || slide.autoPlay) && node.paused) {\n      node.play().catch(() => {});\n    }\n  });\n  const setVideoRef = React.useCallback(node => {\n    videoRef.current = node;\n    if (node) {\n      handleVideoRef(node);\n    }\n  }, [handleVideoRef]);\n  const {\n    width,\n    height,\n    poster,\n    sources\n  } = slide;\n  const scaleWidthAndHeight = () => {\n    const scalingProps = {};\n    scalingProps.style = {\n      maxWidth: \"100%\",\n      maxHeight: \"100%\"\n    };\n    if (width && height && containerRect) {\n      const widthBound = width / height > containerRect.width / containerRect.height;\n      const elementWidth = widthBound ? containerRect.width : Math.round(containerRect.height / height * width);\n      const elementHeight = !widthBound ? containerRect.height : Math.round(containerRect.width / width * height);\n      scalingProps.width = elementWidth;\n      scalingProps.height = elementHeight;\n      scalingProps.style.width = elementWidth;\n      scalingProps.style.height = elementHeight;\n    }\n    return scalingProps;\n  };\n  const resolveBoolean = attr => {\n    if (slide[attr] === false) return null;\n    if (slide[attr] === true) return {\n      [attr]: true\n    };\n    if (video[attr] === false) return null;\n    if (video[attr] === true) return {\n      [attr]: true\n    };\n    return null;\n  };\n  const resolveString = attr => {\n    if (video[attr] || slide[attr]) {\n      return {\n        [attr]: slide[attr] || video[attr]\n      };\n    }\n    return null;\n  };\n  return React.createElement(React.Fragment, null, sources && React.createElement(\"div\", {\n    ref: setContainerRef,\n    style: {\n      width: \"100%\",\n      height: \"100%\",\n      ...(width ? {\n        maxWidth: \"\".concat(width, \"px\")\n      } : null)\n    },\n    className: clsx(cssClass(\"video_container\"), cssClass(CLASS_FLEX_CENTER), cssClass(CLASS_SLIDE_WRAPPER))\n  }, containerRect && React.createElement(\"video\", {\n    ref: setVideoRef,\n    poster: poster,\n    ...scaleWidthAndHeight(),\n    ...resolveBoolean(\"controls\"),\n    ...resolveBoolean(\"playsInline\"),\n    ...resolveBoolean(\"loop\"),\n    ...resolveBoolean(\"muted\"),\n    ...resolveBoolean(\"playsInline\"),\n    ...resolveBoolean(\"disablePictureInPicture\"),\n    ...resolveBoolean(\"disableRemotePlayback\"),\n    ...resolveString(\"controlsList\"),\n    ...resolveString(\"crossOrigin\"),\n    ...resolveString(\"preload\"),\n    onPlay: () => {\n      publish(ACTIVE_SLIDE_PLAYING);\n    },\n    onEnded: () => {\n      publish(ACTIVE_SLIDE_COMPLETE);\n    }\n  }, sources.map((_ref2, index) => {\n    let {\n      src,\n      type\n    } = _ref2;\n    return React.createElement(\"source\", {\n      key: index,\n      src: src,\n      type: type\n    });\n  }))));\n}\nfunction isVideoSlide(slide) {\n  return slide.type === \"video\";\n}\nfunction Video(_ref3) {\n  let {\n    augment\n  } = _ref3;\n  augment(_ref4 => {\n    let {\n      render: {\n        slide: renderSlide,\n        ...restRender\n      },\n      video,\n      ...restProps\n    } = _ref4;\n    return {\n      render: {\n        slide: _ref5 => {\n          let {\n            slide,\n            offset,\n            rect\n          } = _ref5;\n          var _a;\n          if (isVideoSlide(slide)) {\n            return React.createElement(VideoSlide, {\n              key: (_a = slide.sources) === null || _a === void 0 ? void 0 : _a.map(source => source.src).join(\" \"),\n              slide: slide,\n              offset: offset\n            });\n          }\n          return renderSlide === null || renderSlide === void 0 ? void 0 : renderSlide({\n            slide,\n            offset,\n            rect\n          });\n        },\n        ...restRender\n      },\n      video: resolveVideoProps(video),\n      ...restProps\n    };\n  });\n}\nexport { Video as default };","import { useLightboxProps, composePrefix, createIcon, cssClass, isImageSlide, clsx, ImageSlide, makeComposePrefix, useEventCallback, cssVar, useRTL, useEvents, useLightboxState, useSensors, useKeyboardNavigation, useAnimation, cleanup, calculatePreload, hasSlides, getSlide, makeUseContext, LightboxPropsProvider, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_THUMBNAILS, ELEMENT_ICON, CLASS_FULLSIZE, CLASS_FLEX_CENTER, ACTION_SWIPE, ACTION_NEXT, ACTION_PREV, PLUGIN_FULLSCREEN, MODULE_CONTROLLER } from '../../types.js';\nconst defaultThumbnailsProps = {\n  ref: null,\n  position: \"bottom\",\n  width: 120,\n  height: 80,\n  border: 1,\n  borderRadius: 4,\n  padding: 4,\n  gap: 16,\n  imageFit: \"contain\",\n  vignette: true\n};\nconst resolveThumbnailsProps = thumbnails => ({\n  ...defaultThumbnailsProps,\n  ...thumbnails\n});\nfunction useThumbnailsProps() {\n  const {\n    thumbnails\n  } = useLightboxProps();\n  return resolveThumbnailsProps(thumbnails);\n}\nconst cssPrefix = value => composePrefix(PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = value => cssPrefix(composePrefix(\"thumbnail\", value));\nconst VideoThumbnailIcon = createIcon(\"VideoThumbnail\", React.createElement(\"path\", {\n  d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}));\nconst UnknownThumbnailIcon = createIcon(\"UnknownThumbnail\", React.createElement(\"path\", {\n  d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\"\n}));\nfunction renderThumbnail(_ref) {\n  let {\n    slide,\n    render,\n    rect,\n    imageFit\n  } = _ref;\n  var _a;\n  const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, {\n    slide,\n    render,\n    rect,\n    imageFit\n  });\n  if (customThumbnail) {\n    return customThumbnail;\n  }\n  const thumbnailIconClass = cssClass(cssThumbnailPrefix(ELEMENT_ICON));\n  if (!isImageSlide(slide)) {\n    if (slide.type === \"video\") {\n      return React.createElement(React.Fragment, null, \"poster\" in slide && React.createElement(\"img\", {\n        alt: \"\",\n        src: slide.poster,\n        className: clsx(cssClass(CLASS_FULLSIZE), cssClass(cssPrefix(\"contain_image\")))\n      }), React.createElement(VideoThumbnailIcon, {\n        className: thumbnailIconClass\n      }));\n    }\n  } else {\n    return React.createElement(ImageSlide, {\n      slide: slide,\n      render: render,\n      rect: rect,\n      imageFit: imageFit\n    });\n  }\n  return React.createElement(UnknownThumbnailIcon, {\n    className: thumbnailIconClass\n  });\n}\nconst activePrefix = makeComposePrefix(\"active\");\nconst fadeInPrefix = makeComposePrefix(\"fadein\");\nconst fadeOutPrefix = makeComposePrefix(\"fadeout\");\nconst placeholderPrefix = makeComposePrefix(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail(_ref2) {\n  let {\n    slide,\n    onClick,\n    active,\n    fadeIn,\n    fadeOut,\n    placeholder,\n    onLoseFocus\n  } = _ref2;\n  const ref = React.useRef(null);\n  const {\n    render,\n    styles\n  } = useLightboxProps();\n  const {\n    width,\n    height,\n    imageFit\n  } = useThumbnailsProps();\n  const rect = {\n    width,\n    height\n  };\n  const onLoseFocusCallback = useEventCallback(onLoseFocus);\n  React.useEffect(() => {\n    if (fadeOut && document.activeElement === ref.current) {\n      onLoseFocusCallback();\n    }\n  }, [fadeOut, onLoseFocusCallback]);\n  return React.createElement(\"button\", {\n    ref: ref,\n    type: \"button\",\n    className: clsx(cssClass(CLASS_FLEX_CENTER), cssClass(cssThumbnailPrefix()), active && cssClass(cssThumbnailPrefix(activePrefix())), fadeIn && cssClass(cssThumbnailPrefix(fadeInPrefix())), fadeOut && cssClass(cssThumbnailPrefix(fadeOutPrefix())), placeholder && cssClass(cssThumbnailPrefix(placeholderPrefix()))),\n    style: {\n      ...(fadeIn ? {\n        [cssVar(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: \"\".concat(fadeIn.duration, \"ms\"),\n        [cssVar(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: \"\".concat(fadeIn.delay, \"ms\")\n      } : null),\n      ...(fadeOut ? {\n        [cssVar(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: \"\".concat(fadeOut.duration, \"ms\"),\n        [cssVar(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: \"\".concat(fadeOut.delay, \"ms\")\n      } : null),\n      ...styles.thumbnail\n    },\n    onClick: onClick\n  }, slide && renderThumbnail({\n    slide,\n    render,\n    rect,\n    imageFit\n  }));\n}\nfunction isHorizontal(position) {\n  return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension, includeGap) {\n  return dimension + 2 * (thumbnails.border + thumbnails.padding) + (includeGap ? thumbnails.gap : 0);\n}\nfunction ThumbnailsTrack(_ref3) {\n  let {\n    visible,\n    containerRef\n  } = _ref3;\n  const track = React.useRef(null);\n  const isRTL = useRTL();\n  const {\n    publish,\n    subscribe\n  } = useEvents();\n  const {\n    carousel,\n    styles\n  } = useLightboxProps();\n  const {\n    slides,\n    globalIndex,\n    animation\n  } = useLightboxState();\n  const {\n    registerSensors,\n    subscribeSensors\n  } = useSensors();\n  useKeyboardNavigation(subscribeSensors);\n  const thumbnails = useThumbnailsProps();\n  const {\n    position,\n    width,\n    height,\n    border,\n    borderStyle,\n    borderColor,\n    borderRadius,\n    padding,\n    gap,\n    vignette\n  } = thumbnails;\n  const index = globalIndex;\n  const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n  const offset = animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment) || 0;\n  const {\n    prepareAnimation\n  } = useAnimation(track, snapshot => ({\n    keyframes: isHorizontal(position) ? [{\n      transform: \"translateX(\".concat((isRTL ? -1 : 1) * boxSize(thumbnails, width, true) * offset + snapshot, \"px)\")\n    }, {\n      transform: \"translateX(0)\"\n    }] : [{\n      transform: \"translateY(\".concat(boxSize(thumbnails, height, true) * offset + snapshot, \"px)\")\n    }, {\n      transform: \"translateY(0)\"\n    }],\n    duration: animationDuration,\n    easing: animation === null || animation === void 0 ? void 0 : animation.easing\n  }));\n  const handleControllerSwipe = useEventCallback(() => {\n    let animationOffset = 0;\n    if (containerRef.current && track.current) {\n      const containerRect = containerRef.current.getBoundingClientRect();\n      const trackRect = track.current.getBoundingClientRect();\n      animationOffset = isHorizontal(position) ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2 : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n    }\n    prepareAnimation(animationOffset);\n  });\n  React.useEffect(() => cleanup(subscribe(ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n  const preload = calculatePreload(carousel, slides);\n  const items = [];\n  if (hasSlides(slides)) {\n    if (offset < 0) {\n      for (let i = index - preload + offset; i < index - preload; i += 1) {\n        items.push({\n          slide: null,\n          index: i,\n          placeholder: true\n        });\n      }\n    }\n    for (let i = index - preload - Math.max(offset, 0); i < index; i += 1) {\n      if (!(carousel.finite && i < 0)) {\n        items.push({\n          slide: getSlide(slides, i),\n          index: i\n        });\n      } else {\n        items.push({\n          slide: null,\n          index: i,\n          placeholder: true\n        });\n      }\n    }\n    items.push({\n      slide: getSlide(slides, index),\n      index\n    });\n    for (let i = index + 1; i <= index + preload - Math.min(offset, 0); i += 1) {\n      if (!carousel.finite || i <= slides.length - 1) {\n        items.push({\n          slide: getSlide(slides, i),\n          index: i\n        });\n      } else {\n        items.push({\n          slide: null,\n          index: i,\n          placeholder: true\n        });\n      }\n    }\n    if (offset > 0) {\n      for (let i = index + preload + 1; i <= index + preload + offset; i += 1) {\n        items.push({\n          slide: null,\n          index: i,\n          placeholder: true\n        });\n      }\n    }\n  }\n  const handleClick = slideIndex => () => {\n    if (slideIndex > index) {\n      publish(ACTION_NEXT, {\n        count: slideIndex - index\n      });\n    } else if (slideIndex < index) {\n      publish(ACTION_PREV, {\n        count: index - slideIndex\n      });\n    }\n  };\n  return React.createElement(\"div\", {\n    className: clsx(cssClass(cssPrefix(\"container\")), cssClass(CLASS_FLEX_CENTER)),\n    style: {\n      ...(!visible ? {\n        display: \"none\"\n      } : null),\n      ...(width !== defaultThumbnailsProps.width ? {\n        [cssVar(cssThumbnailPrefix(\"width\"))]: \"\".concat(boxSize(thumbnails, width), \"px\")\n      } : null),\n      ...(height !== defaultThumbnailsProps.height ? {\n        [cssVar(cssThumbnailPrefix(\"height\"))]: \"\".concat(boxSize(thumbnails, height), \"px\")\n      } : null),\n      ...(border !== defaultThumbnailsProps.border ? {\n        [cssVar(cssThumbnailPrefix(\"border\"))]: \"\".concat(border, \"px\")\n      } : null),\n      ...(borderStyle ? {\n        [cssVar(cssThumbnailPrefix(\"border_style\"))]: borderStyle\n      } : null),\n      ...(borderColor ? {\n        [cssVar(cssThumbnailPrefix(\"border_color\"))]: borderColor\n      } : null),\n      ...(borderRadius !== defaultThumbnailsProps.borderRadius ? {\n        [cssVar(cssThumbnailPrefix(\"border_radius\"))]: \"\".concat(borderRadius, \"px\")\n      } : null),\n      ...(padding !== defaultThumbnailsProps.padding ? {\n        [cssVar(cssThumbnailPrefix(\"padding\"))]: \"\".concat(padding, \"px\")\n      } : null),\n      ...(gap !== defaultThumbnailsProps.gap ? {\n        [cssVar(cssThumbnailPrefix(\"gap\"))]: \"\".concat(gap, \"px\")\n      } : null),\n      ...styles.thumbnailsContainer\n    }\n  }, React.createElement(\"nav\", {\n    ref: track,\n    style: styles.thumbnailsTrack,\n    className: clsx(cssClass(cssPrefix(\"track\")), cssClass(CLASS_FLEX_CENTER)),\n    tabIndex: -1,\n    ...registerSensors\n  }, items.map(_ref4 => {\n    let {\n      slide,\n      index: slideIndex,\n      placeholder\n    } = _ref4;\n    const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n    const fadeIn = offset > 0 && slideIndex > index + preload - offset && slideIndex <= index + preload || offset < 0 && slideIndex < index - preload - offset && slideIndex >= index - preload ? {\n      duration: fadeAnimationDuration,\n      delay: ((offset > 0 ? slideIndex - (index + preload - offset) : index - preload - offset - slideIndex) - 1) * fadeAnimationDuration\n    } : undefined;\n    const fadeOut = offset > 0 && slideIndex < index - preload || offset < 0 && slideIndex > index + preload ? {\n      duration: fadeAnimationDuration,\n      delay: (offset > 0 ? offset - (index - preload - slideIndex) : -offset - (slideIndex - (index + preload))) * fadeAnimationDuration\n    } : undefined;\n    return React.createElement(Thumbnail, {\n      key: [\"\".concat(slideIndex), placeholder && \"placeholder\"].filter(Boolean).join(\"-\"),\n      slide: slide,\n      active: slideIndex === index,\n      fadeIn: fadeIn,\n      fadeOut: fadeOut,\n      placeholder: Boolean(placeholder),\n      onClick: handleClick(slideIndex),\n      onLoseFocus: () => {\n        var _a;\n        return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    });\n  })), vignette && React.createElement(\"div\", {\n    className: cssClass(cssPrefix(\"vignette\"))\n  }));\n}\nconst ThumbnailsContext = React.createContext(null);\nconst useThumbnails = makeUseContext(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider(_ref5) {\n  let {\n    children,\n    ...props\n  } = _ref5;\n  const [visible, setVisible] = React.useState(true);\n  const containerRef = React.useRef(null);\n  const {\n    ref,\n    position\n  } = resolveThumbnailsProps(props.thumbnails);\n  const context = React.useMemo(() => ({\n    visible,\n    show: () => setVisible(true),\n    hide: () => setVisible(false)\n  }), [visible]);\n  React.useImperativeHandle(ref, () => context, [context]);\n  return React.createElement(LightboxPropsProvider, {\n    ...props\n  }, React.createElement(ThumbnailsContext.Provider, {\n    value: context\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    className: clsx(cssClass(cssPrefix()), cssClass(cssPrefix(\"\".concat(position))))\n  }, [\"start\", \"top\"].includes(position) && React.createElement(ThumbnailsTrack, {\n    containerRef: containerRef,\n    visible: visible\n  }), React.createElement(\"div\", {\n    className: cssClass(cssPrefix(\"wrapper\"))\n  }, children), [\"end\", \"bottom\"].includes(position) && React.createElement(ThumbnailsTrack, {\n    containerRef: containerRef,\n    visible: visible\n  }))));\n}\nconst thumbnailsIcon = () => React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  strokeWidth: 2,\n  stroke: \"currentColor\",\n  strokeLinejoin: \"round\",\n  fill: \"none\",\n  d: \"M3 5l18 0l0 14l-18 0l0-14z\"\n}), React.createElement(\"path\", {\n  d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\"\n}));\nconst ThumbnailsVisible = createIcon(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = createIconDisabled(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n  const {\n    visible,\n    show,\n    hide\n  } = useThumbnails();\n  const {\n    render\n  } = useLightboxProps();\n  if (render.buttonThumbnails) {\n    return React.createElement(React.Fragment, null, render.buttonThumbnails({\n      visible,\n      show,\n      hide\n    }));\n  }\n  return React.createElement(IconButton, {\n    label: visible ? \"Hide thumbnails\" : \"Show thumbnails\",\n    icon: visible ? ThumbnailsVisible : ThumbnailsHidden,\n    renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden,\n    onClick: visible ? hide : show\n  });\n}\nfunction Thumbnails(_ref6) {\n  let {\n    augment,\n    contains,\n    append,\n    addParent\n  } = _ref6;\n  augment(_ref7 => {\n    let {\n      thumbnails: thumbnailsProps,\n      toolbar,\n      ...restProps\n    } = _ref7;\n    const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n    return {\n      toolbar: addToolbarButton(toolbar, PLUGIN_THUMBNAILS, thumbnails.showToggle ? React.createElement(ThumbnailsButton, null) : null),\n      thumbnails,\n      ...restProps\n    };\n  });\n  const module = createModule(PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n  if (contains(PLUGIN_FULLSCREEN)) {\n    append(PLUGIN_FULLSCREEN, module);\n  } else {\n    addParent(MODULE_CONTROLLER, module);\n  }\n}\nexport { Thumbnails as default };","export const store = {\n  _origin: 'https://api.emailjs.com'\n};","export const validateParams = (userID, serviceID, templateID) => {\n  if (!userID) {\n    throw 'The user ID is required. Visit https://dashboard.emailjs.com/admin/integration';\n  }\n  if (!serviceID) {\n    throw 'The service ID is required. Visit https://dashboard.emailjs.com/admin';\n  }\n  if (!templateID) {\n    throw 'The template ID is required. Visit https://dashboard.emailjs.com/admin/templates';\n  }\n  return true;\n};","export class EmailJSResponseStatus {\n  constructor(httpResponse) {\n    this.status = httpResponse.status;\n    this.text = httpResponse.responseText;\n  }\n}","import { EmailJSResponseStatus } from '../models/EmailJSResponseStatus';\nimport { store } from '../store/store';\nexport const sendPost = function (url, data) {\n  let headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', _ref => {\n      let {\n        target\n      } = _ref;\n      const responseStatus = new EmailJSResponseStatus(target);\n      if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n        resolve(responseStatus);\n      } else {\n        reject(responseStatus);\n      }\n    });\n    xhr.addEventListener('error', _ref2 => {\n      let {\n        target\n      } = _ref2;\n      reject(new EmailJSResponseStatus(target));\n    });\n    xhr.open('POST', store._origin + url, true);\n    Object.keys(headers).forEach(key => {\n      xhr.setRequestHeader(key, headers[key]);\n    });\n    xhr.send(data);\n  });\n};","import { init } from './methods/init/init';\nimport { send } from './methods/send/send';\nimport { sendForm } from './methods/sendForm/sendForm';\nexport { init, send, sendForm };\nexport default {\n  init,\n  send,\n  sendForm\n};","import { store } from '../../store/store';\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\nexport const init = function (userID) {\n  let origin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'https://api.emailjs.com';\n  store._userID = userID;\n  store._origin = origin;\n};","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const send = (serviceID, templateID, templatePrams, userID) => {\n  const uID = userID || store._userID;\n  validateParams(uID, serviceID, templateID);\n  const params = {\n    lib_version: '3.2.0',\n    user_id: uID,\n    service_id: serviceID,\n    template_id: templateID,\n    template_params: templatePrams\n  };\n  return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n    'Content-type': 'application/json'\n  });\n};","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\nconst findHTMLForm = form => {\n  let currentForm;\n  if (typeof form === 'string') {\n    currentForm = document.querySelector(form);\n  } else {\n    currentForm = form;\n  }\n  if (!currentForm || currentForm.nodeName !== 'FORM') {\n    throw 'The 3rd parameter is expected to be the HTML form element or the style selector of form';\n  }\n  return currentForm;\n};\n/**\n * Send a form the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {string | HTMLFormElement} form - the form element or selector\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const sendForm = (serviceID, templateID, form, userID) => {\n  const uID = userID || store._userID;\n  const currentForm = findHTMLForm(form);\n  validateParams(uID, serviceID, templateID);\n  const formData = new FormData(currentForm);\n  formData.append('lib_version', '3.2.0');\n  formData.append('service_id', serviceID);\n  formData.append('template_id', templateID);\n  formData.append('user_id', uID);\n  return sendPost('/api/v1.0/email/send-form', formData);\n};"],"sourceRoot":""}